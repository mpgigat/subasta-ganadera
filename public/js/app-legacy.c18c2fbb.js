(function(){"use strict";var t={2259:function(t,e,o){o(6992),o(8674),o(9601),o(7727),o(1539);var a=o(144),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header"),o("router-view"),o("Footer")],1)},r=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer mt-10"},[o("v-footer",{attrs:{app:"",color:"black ",padless:""}},[o("v-col",{staticClass:"text-center white--text",attrs:{cols:"12"}},[o("strong",[t._v("Biblioteca SENA San Gil - ")]),t._v(" "+t._s((new Date).getFullYear())+" ")])],1)],1)},n=[],l={name:"PageFooter",data:function(){return{}}},c=l,u=o(3736),d=o(3453),v=o.n(d),p=o(266),m=o(8271),f=(0,u.Z)(c,i,n,!1,null,null,null),h=f.exports;v()(f,{VCol:p.Z,VFooter:m.Z});var g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mt-1"},[o("v-app-bar",{attrs:{app:"",flex:"",color:"black",dark:""}},[""!==t.$store.state.token?o("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!0}}}):t._e(),o("v-toolbar-title",[t._v("Prestamo Bibliotecario")]),o("v-spacer"),""!==t.$store.state.token?o("v-btn",{staticClass:"orange black--text",on:{click:function(e){return t.salir()}}},[t._v(" salir "),o("v-icon",[t._v("mdi-door-open")])],1):t._e()],1),o("v-navigation-drawer",{attrs:{temporary:"",absolute:"",color:"black"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-list",[o("v-list-item",[o("h1")]),o("v-list-item",{staticClass:"d-flex justify-center",attrs:{to:"/perfil"}},[o("v-avatar",{attrs:{color:"white",size:"62"}},[o("v-img",{attrs:{src:t.$store.state.foto}})],1)],1),o("v-list-item",{staticClass:"d-flex justify-center white--text mt-4 mb-4"},[o("h3",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.$store.state.datos.name))])]),"APRENDIZ"===t.$store.state.datos.rol||"ADMIN"===t.$store.state.datos.rol||"PUBLICO"===t.$store.state.datos.rol||"INSTRUCTOR"===t.$store.state.datos.rol||"ADMINISTRATIVO"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/inicio"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-home")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Home")])],1):t._e(),"ADMIN"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/persona"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-account")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Holders")])],1):t._e(),"ADMIN"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/equipo"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-monitor")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Computadoras activas")])],1):t._e(),"ADMIN"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/registro"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-book-open-page-variant")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Prestamos pendientes")])],1):t._e(),"APRENDIZ"===t.$store.state.datos.rol||"ADMIN"===t.$store.state.datos.rol||"PUBLICO"===t.$store.state.datos.rol||"INSTRUCTOR"===t.$store.state.datos.rol||"ADMINISTRATIVO"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/miequipo"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-laptop")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Mis computadoras")])],1):t._e()],1)],1)],1)},b=[],x=(o(4916),o(5306),{name:"PageHeader",data:function(){return{drawer:!1,group:null,rol:this.$store.state.datos.rol}},methods:{salir:function(){this.$router.replace("/"),this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),this.imagen=""}},computed:{}}),k=x,C=o(6232),_=o(5550),w=o(3423),Z=o(4562),V=o(4324),y=o(5495),$=o(5808),A=o(4525),I=o(4611),T=o(2866),E=o(9709),D=o(3687),S=o(7953),P=(0,u.Z)(k,g,b,!1,null,null,null),R=P.exports;v()(P,{VAppBar:C.Z,VAppBarNavIcon:_.Z,VAvatar:w.Z,VBtn:Z.Z,VIcon:V.Z,VImg:y.Z,VList:$.Z,VListItem:A.Z,VListItemIcon:I.Z,VListItemTitle:T.V9,VNavigationDrawer:E.Z,VSpacer:D.Z,VToolbarTitle:S.qW});var N={name:"App",components:{Footer:h,Header:R},data:function(){return{}}},B=N,O=o(998),j=(0,u.Z)(B,s,r,!1,null,null,null),L=j.exports;v()(j,{VApp:O.Z});var q=o(1705);a.Z.use(q.Z);var M=new q.Z({}),F=o(3982),z=o.n(F),G=o(8345),U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{staticClass:"mt-16"},[[o("v-container",{staticClass:"mt-5 ",attrs:{fluid:""}},[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-card",{staticClass:" elevation-0"},[o("h2",[t._v("Holders")])])],1),o("v-col",{attrs:{cols:"6"}},[o("v-card",{staticClass:" elevation-0 d-flex justify-end"},[o("v-btn",{on:{click:function(e){return t.nuevoHolder()}}},[t._v("Nuevo Holder")])],1)],1)],1)],1),o("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.holders,"items-per-page":5},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var a=e.item;return["1"===a.state?[o("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(a)}}},[t._v(" mdi-account-off")])]:[o("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(a)}}},[t._v("mdi-account-check")])]]}},{key:"item.state",fn:function(e){var a=e.item;return["1"===a.state?o("span",{staticClass:"green--text"},[t._v("Activo")]):o("span",{staticClass:"red--text"},[t._v("Inactivo")])]}}],null,!0)})],o("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"text-h5"},[t._v("Guardar Perfil")])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Ficha",type:"number"},model:{value:t.ficha,callback:function(e){t.ficha=e},expression:"ficha"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Contraseña",type:"password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}})],1),o("v-col",{attrs:{cols:"12",sm:"6"}},[o("v-select",{attrs:{items:["ADMIN","PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO"],label:"Perfil"},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.nuevoHolder()}}},[t._v(" Guardar ")])],1)],1)],1)],2)},H=[],W=o(9669),Y=o.n(W),Q={name:"PagePersona",data:function(){return{dialog:!1,nombre:"",pass:"",documento:"",telefono:"",correo:"",perfil:"",ficha:"",encabezados:[{text:"Documento",align:"start",sortable:!1,value:"document"},{text:"Nombre",value:"name"},{text:"Telefono",value:"phone"},{text:"Correo",value:"email"},{text:"Ficha",value:"ficha",sortable:!1},{text:"Rol",value:"rol",sortable:!1},{text:"Estado",value:"state",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],holders:[]}},methods:{listarHolders:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};Y().get("https://cat-biblioteca.herokuapp.com/api/holder",e).then((function(e){console.log(e),t.holders=e.data.holder})).catch((function(t){console.log(t)}))},nuevoHolder:function(){this.dialog=!0},cerrarDialog:function(){this.dialog=!1},editar:function(t){var e=this;if(console.log(t.state),"1"===t.state){var o={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/holder/unactivate/".concat(t._id),{},o).then((function(t){console.log(t),e.listarHolders()})).catch((function(t){console.log(t.response)}))}else{var a={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/holder/activate/".concat(t._id),{},a).then((function(t){console.log(t),e.listarHolders()})).catch((function(t){console.log(t.response)}))}}},mounted:function(){this.listarHolders()}},J=Q,K=o(9582),X=o(4886),tt=o(2118),et=o(3863),ot=o(4061),at=o(1713),st=o(9370),rt=o(7808),it=(0,u.Z)(J,U,H,!1,null,null,null),nt=it.exports;v()(it,{VApp:O.Z,VBtn:Z.Z,VCard:K.Z,VCardActions:X.h7,VCardText:X.ZB,VCardTitle:X.EB,VCol:p.Z,VContainer:tt.Z,VDataTable:et.Z,VDialog:ot.Z,VIcon:V.Z,VRow:at.Z,VSelect:st.Z,VSpacer:D.Z,VTextField:rt.Z});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5 ",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:" elevation-0"},[a("h2",[t._v("Computadoras")])])],1),a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:" elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Equipo")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.laptops,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return["1"===o.state?[a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.habilitar(o)}}},[t._v(" mdi-account-off")])]:[a("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.habilitar(o)}}},[t._v("mdi-account-check")])],a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.generarcodigo(o)}}},"v-icon",r,!1),s),[t._v("mdi-barcode")])]}}],null,!0)},[a("span",[t._v("Generar Codigo")])])]}},{key:"item.state",fn:function(e){var o=e.item;return["1"===o.state?a("span",{staticClass:"green--text"},[t._v("Activo")]):a("span",{staticClass:"red--text"},[t._v("Inactivo")])]}},{key:"item.createdAt",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(o.createdAt.substring(0,10))+" "+t._s(o.createdAt.substring(11,19)))])]}}],null,!0)})]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Guardar Perfil")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Persona Encargada",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Estado",disabled:""},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Observaciones"},model:{value:t.observaciones,callback:function(e){t.observaciones=e},expression:"observaciones"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_laptop()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("div",{staticClass:"d-flex justify-center white"},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"d-flex justify-center white"},[a("span",{staticClass:"d-flex justify-center",attrs:{color:"green"}},[t._v("Codigo Generado ✅")])]),a("div",{attrs:{id:"s"}}),a("br")],1)],1)])],2)},ct=[],ut=o(6455),dt=o.n(ut),vt={name:"PageEquipo",data:function(){return{dialog:!1,dialog2:!1,id:"",persona:"",estado:"Activo",serial:"",observaciones:"",encabezados:[{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial",value:"serial"},{text:"Estado",value:"state"},{text:"Creado",value:"createdAt",sortable:!1},{text:"Observaciones",value:"observations",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],laptops:[]}},methods:{login:function(){this.$router.replace("/")},listarLaptops:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};console.log(this.$route.params.id),this.id=this.$route.params.id;var o="https://cat-biblioteca.herokuapp.com/api/laptop";Y().get(o,e).then((function(e){console.log(e),t.laptops=e.data.laptop})).catch((function(t){console.log(t)})),this.id=""},nuevoEquipo:function(){this.dialog=!0},cerrarDialog:function(){this.dialog=!1},generarcodigo:function(t){var e=this,o={headers:{"x-token":this.$store.state.token}};console.log(o),this.dialog2=!0,Y().put("https://cat-biblioteca.herokuapp.com/api/laptop/barcodehtml/".concat(t._id),{},o).then((function(t){console.log(t),e.vector=t.data;var o=document.getElementById("s");o.innerHTML=e.vector})).catch((function(t){console.log(t)}))},registrar_laptop:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};Y().post("https://cat-biblioteca.herokuapp.com/api/laptop",{holder:this.$store.state.datos._id,serial:this.serial,observations:this.observaciones},e).then((function(e){console.log(e),dt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),t.listarLaptops()})).catch((function(t){console.log(t),dt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:"<h4>".concat(t.response.data.errors[0].msg,"</h4>"),showCloseButton:!0})}))},habilitar:function(t){var e=this;if(console.log(t.state),"1"===t.state){var o={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/laptop/unactivate/".concat(t._id),{},o).then((function(t){console.log(t),e.listarLaptops()})).catch((function(t){console.log(t.response)}))}else{var a={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/laptop/activate/".concat(t._id),{},a).then((function(t){console.log(t),e.listarLaptops()})).catch((function(t){console.log(t.response)}))}}},mounted:function(){this.listarLaptops()}},pt=vt,mt=o(7359),ft=o(6072),ht=o(2082),gt=(0,u.Z)(pt,lt,ct,!1,null,null,null),bt=gt.exports;v()(gt,{VAlert:mt.Z,VApp:O.Z,VBtn:Z.Z,VCard:K.Z,VCardActions:X.h7,VCardText:X.ZB,VCardTitle:X.EB,VCol:p.Z,VContainer:tt.Z,VDataTable:et.Z,VDialog:ot.Z,VIcon:V.Z,VImg:y.Z,VRow:at.Z,VSpacer:D.Z,VTextField:rt.Z,VTextarea:ft.Z,VTooltip:ht.Z});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0"},[a("h2",[t._v("Computadoras")])])],1),a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Equipo")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.entradas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.devolver(o)}}},"v-icon",r,!1),s),[t._v(" mdi-keyboard-return")])]}}],null,!0)},[a("span",[t._v("Retorno del pc")])])]}},{key:"item.entrytime",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t.fechaEntrada(o.entrytime).slice(0,24)))])]}},{key:"item.checkout",fn:function(e){var o=e.item;return["No se ha devuelto el pc"===t.fechaSalida(o.checkout)?a("span",{staticClass:"red--text"},[t._v(t._s(t.fechaSalida(o.checkout)))]):a("span",{staticClass:"green--text"},[t._v(t._s(t.fechaSalida(o.checkout).slice(0,24)))])]}}],null,!0)})]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Registrar nueva entrada")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Quien registra",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial del pc",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_entrada()}}},[t._v(" Guardar ")])],1)],1)],1)],2)},kt=[],Ct=(o(9714),{name:"PageRegistro",data:function(){return{fecha:"",dialog:!1,serial:"",entradas:[],span:!1,id_propietario:"",encabezados:[{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial PC",value:"laptop.serial"},{text:"Propietario",value:"laptop.holder.name"},{text:"Fecha de entrada",value:"entrytime",sortable:!1},{text:"Observaciones del PC",value:"laptop.observations",sortable:!1},{text:"Fecha de salida",value:"checkout",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}]}},methods:{listarPrestamos:function(){Y().get()},registrar_entrada:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};Y().post("https://cat-biblioteca.herokuapp.com/api/entry",{holder:this.$store.state.datos._id,laptop:this.serial,checkout:""},e).then((function(e){console.log(e),dt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),t.listarEntradas()})).catch((function(t){console.log(t),dt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:"<h4>".concat(t.response.data.errors[0].msg,"</h4>"),showCloseButton:!0})}))},devolver:function(t){var e=this;console.log(t);var o={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/entry/".concat(t._id),{},o).then((function(t){console.log(t),e.listarEntradas()})).catch((function(t){console.log(t)}))},listarEntradas:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};Y().get("https://cat-biblioteca.herokuapp.com/api/entry/usuario/".concat(this.$store.state.datos._id),e).then((function(e){console.log(e),t.entradas=e.data.entry,t.fecha=e.data.entry.entrytime})).catch((function(t){console.log(t)}))},login:function(){this.$router.replace("/")},nuevoEquipo:function(){this.dialog=!0},cerrarDialog:function(){this.dialog=!1},fechaEntrada:function(t){var e=new Date(t);return e.toString()},fechaSalida:function(t){if(void 0===t||""===t)return this.span=!1,"No se ha devuelto el pc";var e=new Date(t);return this.span=!0,e.toString()}},computed:{},created:function(){this.listarEntradas()}}),_t=Ct,wt=(0,u.Z)(_t,xt,kt,!1,null,null,null),Zt=wt.exports;v()(wt,{VAlert:mt.Z,VApp:O.Z,VBtn:Z.Z,VCard:K.Z,VCardActions:X.h7,VCardText:X.ZB,VCardTitle:X.EB,VCol:p.Z,VContainer:tt.Z,VDataTable:et.Z,VDialog:ot.Z,VIcon:V.Z,VImg:y.Z,VRow:at.Z,VSpacer:D.Z,VTextField:rt.Z,VTooltip:ht.Z});var Vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"mt-10"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"10"}},[o("v-card",{staticClass:"elevation-6 mt-10"},[o("v-window",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[o("v-window-item",{attrs:{value:1}},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-card-text",{staticClass:"mt-12"},[o("h4",{staticClass:"text-center"},[t._v("Inicie su sesión con su usuario")]),o("h6",{staticClass:"text-center grey--text"},[t._v(" Inicie sesión con sus credenciales "),o("br"),t._v(" Indicando su correo y respectiva contraseña ")]),o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8"}},[o("v-text-field",{staticClass:"mt-12",attrs:{label:"Email",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}}),o("v-text-field",{attrs:{label:"Password",outlined:"",dense:"",color:"black",autocomplete:"false",type:"password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),o("v-row",[o("v-col",{staticClass:"mb-6",attrs:{cols:"12",sm:"12"}},[o("span",{staticClass:"Subtitle 1 blue--text"},[t._v("Forgot password")])])],1),o("v-btn",{staticClass:"black--text",attrs:{color:"orange",dark:"",block:"",tile:""},on:{click:function(e){return t.login()}}},[t._v("Iniciar Sesion ")])],1)],1)],1)],1),o("v-col",{staticClass:"orange rounded-bl-xl",attrs:{cols:"12",md:"6"}},[o("div",{staticStyle:{"text-align":"center",padding:"180px 0"}},[o("v-card-text",{staticClass:"black--text"},[o("h3",{staticClass:"text-center"},[t._v("No tienes aun usuario?")]),o("h6",{staticClass:"text-center"},[t._v(" Registrese para que pueda prestar equipos de computo de la Biblioteca SENA - San Gil ")])]),o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"black--text",attrs:{tile:"",outlined:"",dark:""},on:{click:function(e){t.step++}}},[t._v("Registrese")])],1)],1)])],1)],1),o("v-window-item",{attrs:{value:2}},[o("v-row",[o("v-col",{staticClass:"orange rounded-br-xl",attrs:{cols:"12",md:"4"}},[o("div",{staticStyle:{"text-align":"center",padding:"180px 0"}},[o("v-card-text",{staticClass:"black--text"},[o("h3",{staticClass:"text-center"},[t._v("Ya esta registrado?")]),o("h6",{staticClass:"text-center"},[t._v(" Inicie sesión para que registre su prestamo y edite su perfil ")])]),o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"black--text",attrs:{tile:"",outlined:"",dark:""},on:{click:function(e){t.step--}}},[t._v("Iniciar Sesión")])],1)],1)]),o("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"4"}},[o("v-card-text",{staticClass:"mt-4"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[o("h2",{staticClass:"mb-11",attrs:{justify:"center"}},[t._v(" Registre su cuenta ")]),o("v-text-field",{attrs:{label:"Nombre Completo",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),o("v-text-field",{attrs:{label:"Documento",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}}),o("v-text-field",{attrs:{label:"Email",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),o("v-text-field",{attrs:{label:"Password",outlined:"",dense:"",color:"black",autocomplete:"false",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),o("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"4"}},[o("v-card-text",{staticClass:"mt-4"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"cols-12",attrs:{align:"center"}},[o("v-text-field",{attrs:{label:"Ficha",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.ficha,callback:function(e){t.ficha=e},expression:"ficha"}}),o("v-text-field",{attrs:{label:"Telefono",type:"Number",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}}),o("v-text-field",{attrs:{disabled:"",type:"text",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}}),o("v-select",{attrs:{items:t.roles,label:"Perfil",outlined:"",dense:""},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}}),o("v-btn",{staticClass:"orange black--text",attrs:{block:""},on:{click:function(e){return t.registrar_usuario()}}},[t._v("Registrar")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),o("v-overlay",{attrs:{value:t.overlay}},[o("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},yt=[],$t={name:"PageLogin",data:function(){return{step:1,overlay:!1,nombre:"",password:"",documento:"",telefono:"",email:"",perfil:"",ficha:"",estado:"Activo",roles:["APRENDIZ","ADMIN","INSTRUCTOR","ADMINISTRATIVO","PUBLICO"],imagen:"https://us.123rf.com/450wm/apoev/apoev1903/apoev190300009/124806570-persona-hombre-de-marcador-de-posici%C3%B3n-de-foto-gris-en-camiseta-sobre-fondo-gris.jpg",valor:"",correo:"",pass:"",show1:!1,errores:""}},methods:{login:function(){var t=this;this.overlay=!0,Y().post("https://cat-biblioteca.herokuapp.com/api/holder/login",{email:this.correo,password:this.pass}).then((function(e){console.log(e.data.token),t.$store.dispatch("setToken",e.data.token),t.$store.dispatch("setDatos",e.data.holder),t.$store.dispatch("setFoto",e.data.holder.photo),console.log(t.$store.state.datos),t.overlay=!1,t.$router.push("/inicio")})).catch((function(e){console.log(e),""===t.correo||""===t.pass?dt().fire({title:"<strong>Error en credenciales</strong>",icon:"error",html:"<h4>".concat(e.response.data.errors[0].msg,"</h4>"),showCloseButton:!0}):dt().fire({title:"<strong>Error en credenciales</strong>",icon:"error",html:"<h4>".concat(e.response.data.msg,"</h4>"),showCloseButton:!0})}))},registrar_usuario:function(){var t=this;console.log(this.password),Y().post("https://cat-biblioteca.herokuapp.com/api/holder",{document:this.documento,name:this.nombre,email:this.email,password:this.password,phone:this.telefono,ficha:this.ficha,rol:this.perfil}).then((function(e){console.log(e),dt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),t.limpiarcajas()})).catch((function(t){console.log(t),dt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:"<h4>".concat(t.response.data.errors[0].msg,"</h4>"),showCloseButton:!0})}))},limpiarcajas:function(){this.nombre="",this.password="",this.documento="",this.telefono="",this.email="",this.perfil="",this.ficha=""}}},At=$t,It=o(2933),Tt=o(3305),Et=o(7280),Dt=o(352),St=(0,u.Z)(At,Vt,yt,!1,null,"3f9a7f37",null),Pt=St.exports;v()(St,{VBtn:Z.Z,VCard:K.Z,VCardText:X.ZB,VCol:p.Z,VContainer:tt.Z,VOverlay:It.Z,VProgressCircular:Tt.Z,VRow:at.Z,VSelect:st.Z,VTextField:rt.Z,VWindow:Et.Z,VWindowItem:Dt.Z});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-10 mt-16"},[""!==t.$store.state.token?a("div",[a("v-container",{staticClass:"orange cont d-flex justify-center",staticStyle:{height:"200px"}},[a("v-avatar",{staticClass:"ava",attrs:{color:"white",size:"150"}},[a("v-img",{attrs:{src:t.imagen},on:{click:function(e){return t.aumentar()}}})],1)],1),a("v-container",{staticClass:"d-flex justify-center"},[a("v-card",{staticClass:"mt-5 tar black white--text",attrs:{width:"500px",rounded:"xl"}},[a("v-card-title"),a("v-card-title",{staticClass:"d-flex justify-center mt-4"},[t._v(" "+t._s(t.nombre)+" ")]),a("v-list",{staticClass:"d-flex justify-center"},[a("v-list-item-group",[a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v("mdi-school")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Soy "+t._s(t.perfil)+" de la ficha "+t._s(t.ficha))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-account ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Documento: "+t._s(t.documento))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-email ")])],1),a("v-list-item-title",[t._v("Correo: "+t._s(t.correo))]),a("v-list-item-content")],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-phone ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Telefono: "+t._s(t.telefono))])],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"ml-3",attrs:{color:"orange ",text:""},on:{click:function(e){return t.abrir()}}},[a("v-icon",[t._v("mdi-pencil")]),t._v(" Actualizar Perfil ")],1),a("v-spacer"),a("v-btn",{staticClass:"ml-3",attrs:{color:"orange ",text:""},on:{click:function(e){return t.registrar_equipo()}}},[a("v-icon",[t._v("mdi-laptop")]),a("h4",[t._v("Registrar equipo")])],1)],1)],1)],1),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",{staticClass:"white",attrs:{align:"center",justify:"center"}},[a("h1",[t._v("Registre sus datos")]),a("v-container",[a("v-row",[a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"6"}},[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[a("v-text-field",{attrs:{label:"Nombre Completo",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-text-field",{attrs:{label:"Documento",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}}),a("v-text-field",{attrs:{label:"Ficha",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.ficha,callback:function(e){t.ficha=e},expression:"ficha"}}),a("v-text-field",{attrs:{label:"Telefono",type:"Number",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}}),a("v-select",{attrs:{items:t.roles,label:"Perfil",outlined:"",dense:""},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"cols-12",attrs:{align:"center"}},[a("v-img",{staticClass:"mb-8",staticStyle:{border:"5px solid"},attrs:{src:t.imagen,height:"250",width:"250"}},[""===t.imagen?a("h2",[t._v("No imagen")]):t._e()]),a("input",{attrs:{type:"file"},on:{change:t.subir}})],1)],1)],1)],1),a("v-btn",{staticClass:"orange black--text mb-6",attrs:{block:""},on:{click:function(e){return t.actualizar()}}},[t._v("Actualizar Datos")])],1)],1)],1)]),a("v-dialog",{attrs:{height:"400",width:"300"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-img",{attrs:{src:t.imagen,height:"300px"}}),a("v-card-title",[t._v(" "+t._s(t.nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"orange",attrs:{dense:"",elevation:"2"},on:{click:function(e){return t.salir()}}},[t._v(" Salir ")])],1)],1)],1)],1):a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1)],1)},Nt=[],Bt=(o(8309),{name:"PagePerfil",data:function(){return{roles:["ADMIN","PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","GUARDA","BIBLIOTECA"],dialog:!1,dialog2:!1,img:"",nombre:this.$store.state.datos.name,perfil:this.$store.state.datos.rol,documento:this.$store.state.datos.document,ficha:this.$store.state.datos.ficha,correo:this.$store.state.datos.email,telefono:this.$store.state.datos.phone,imagen:this.$store.state.datos.photo}},methods:{login:function(){this.$router.replace("/")},abrir:function(){this.dialog=!0},aumentar:function(){this.dialog2=!0},salir:function(){this.dialog2=!1},subir:function(t){var e=this;this.img=t.target.files[0],console.log(this.img);var o=new FormData;o.append("archivo",this.img);var a={headers:{"x-token":this.$store.state.token}};console.log(o),Y().post("https://cat-biblioteca.herokuapp.com/api/holder/uploadcloud/".concat(this.$store.state.datos._id),o,a).then((function(t){console.log(t.data.url),e.imagen=t.data.url,e.$store.dispatch("setFoto",t.data.url)})).catch((function(t){console.log(t)}))},registrar_equipo:function(){console.log(this.$store.state.datos._id),this.$router.replace("/miequipo")},actualizar:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};console.log(this.$store.state.datos._id),Y().put("https://cat-biblioteca.herokuapp.com/api/holder/".concat(this.$store.state.datos._id),{document:this.documento,name:this.nombre,ficha:this.ficha,phone:this.telefono,rol:this.perfil},e).then((function(e){console.log(e),dt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),t.dialog=!1})).catch((function(t){console.log(t),dt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:"<h4>".concat(t.response.data.errors[0].msg,"</h4>"),showCloseButton:!0})}))}},mount:function(){this.llenar_perfil()}}),Ot=Bt,jt=o(7912),Lt=(0,u.Z)(Ot,Rt,Nt,!1,null,null,null),qt=Lt.exports;v()(Lt,{VAlert:mt.Z,VAvatar:w.Z,VBtn:Z.Z,VCard:K.Z,VCardActions:X.h7,VCardText:X.ZB,VCardTitle:X.EB,VCol:p.Z,VContainer:tt.Z,VDialog:ot.Z,VIcon:V.Z,VImg:y.Z,VList:$.Z,VListItem:A.Z,VListItemContent:T.km,VListItemGroup:jt.Z,VListItemIcon:I.Z,VListItemTitle:T.V9,VRow:at.Z,VSelect:st.Z,VSpacer:D.Z,VTextField:rt.Z});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-toolbar",{staticClass:"mt-n5",attrs:{flat:"",color:"rgba(0,0,0,0)"}},[a("v-toolbar-title",[a("h2",[t._v("Tablero")])]),a("v-spacer")],1),a("v-row",{staticClass:"px-5 mt-n6 ml-5 "},t._l(t.lista,(function(e,o){return a("v-col",{key:o,staticClass:"mt-10",attrs:{cols:"12",sm:"4"}},[!0===e.rol?a("v-card",{staticClass:"rounded-circle border pt-10",attrs:{align:"center",color:"#F9FAFC",width:"200",height:"200",flat:""}},[a("v-icon",{attrs:{size:"60",color:"orange"}},[t._v(" "+t._s(e.icon)+" ")]),a("v-card-text",{staticClass:"black--text text-lg-h6"},[t._v(" "+t._s(e.title)+" ")]),a("v-btn",{staticClass:"black--text",attrs:{absolute:"",color:"orange",fab:"",left:"",top:"",to:e.to}},[a("h2",[t._v(t._s(e.count))])])],1):t._e()],1)})),1),a("v-row",{staticClass:"mt-n5"},[a("v-col",{attrs:{cols:"12",sm:"7"}}),a("v-col",{attrs:{cols:"12",sm:"5"}})],1)],1)],1)],1):a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1)],1)},Ft=[],zt={name:"PageInicio",data:function(){return{rol:this.$store.state.datos.rol}},methods:{login:function(){this.$router.replace("/")},datos:function(t){console.log(t)}},computed:{lista:function(){var t=[];return t=[{icon:"mdi-account-check",title:"Holders Activos",count:21,to:"/persona",rol:"ADMIN"===this.rol},{icon:"mdi-monitor",title:"Computadoras activas",count:41,to:"/equipo",rol:"ADMIN"===this.rol},{icon:"mdi-book-open-page-variant",title:"Prestamos",count:35,to:"/registro",rol:"ADMIN"===this.rol},{icon:"mdi-laptop",title:"Mis computadoras",count:35,to:"/miequipo",rol:"APRENDIZ"===this.rol||"ADMIN"===this.rol||"PUBLICO"===this.rol||"INSTRUCTOR"===this.rol||"ADMINISTRATIVO"===this.rol||"GUARDA"===this.rol},{icon:"mdi-account-circle",title:"Mi perfil",count:35,to:"/perfil",rol:"APRENDIZ"===this.rol||"ADMIN"===this.rol||"PUBLICO"===this.rol||"INSTRUCTOR"===this.rol||"ADMINISTRATIVO"===this.rol||"GUARDA"===this.rol||"BIBLIOTECA"===this.rol}],t}}},Gt=zt,Ut=o(6313),Ht=(0,u.Z)(Gt,Mt,Ft,!1,null,null,null),Wt=Ht.exports;v()(Ht,{VAlert:mt.Z,VApp:O.Z,VBtn:Z.Z,VCard:K.Z,VCardText:X.ZB,VCol:p.Z,VContainer:tt.Z,VIcon:V.Z,VImg:y.Z,VRow:at.Z,VSpacer:D.Z,VToolbar:Ut.Z,VToolbarTitle:S.qW});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5 ",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:" elevation-0"},[a("h2",[t._v("Computadoras")])])],1),a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:" elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Equipo")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.laptops,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return["1"===o.state?[a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.habilitar(o)}}},[t._v(" mdi-account-off")])]:[a("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.habilitar(o)}}},[t._v("mdi-account-check")])],a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.generarcodigo(o)}}},"v-icon",r,!1),s),[t._v("mdi-barcode")])]}}],null,!0)},[a("span",[t._v("Generar Codigo")])]),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.editar(o)}}},"v-icon",r,!1),s),[t._v(" mdi-pencil")])]}}],null,!0)},[a("span",[t._v("Editar Laptop")])])]}},{key:"item.state",fn:function(e){var o=e.item;return["1"===o.state?a("span",{staticClass:"green--text"},[t._v("Activo")]):a("span",{staticClass:"red--text"},[t._v("Inactivo")])]}},{key:"item.createdAt",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(o.createdAt.substring(0,10))+" "+t._s(o.createdAt.substring(11,19)))])]}}],null,!0)})]:t._e(),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Guardar Perfil")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Persona Encargada",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Estado",disabled:""},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Observaciones (Marca, color y demas)"},model:{value:t.observaciones,callback:function(e){t.observaciones=e},expression:"observaciones"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_laptop()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("div",{staticClass:"d-flex justify-center white"},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"d-flex justify-center white"},[a("span",{staticClass:"d-flex justify-center",attrs:{color:"green"}},[t._v("Codigo Generado ✅")])]),a("div",{attrs:{id:"s"}}),a("br")],1)],1)]),""===t.$store.state.token?a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1):t._e()],2)},Qt=[],Jt={name:"PageEquipo",data:function(){return{dialog:!1,dialog2:!1,persona:"",estado:"Activo",serial:"",observaciones:"",encabezados:[{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial",value:"serial"},{text:"Estado",value:"state"},{text:"Creado",value:"createdAt",sortable:!1},{text:"Observaciones",value:"observations",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],laptops:[]}},methods:{login:function(){this.$router.replace("/")},listarLaptops:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};Y().get("https://cat-biblioteca.herokuapp.com/api/laptop/holder/".concat(this.$store.state.datos._id),e).then((function(e){console.log(e),t.laptops=e.data.laptop})).catch((function(t){console.log(t)}))},nuevoEquipo:function(){this.dialog=!0},cerrarDialog:function(){this.dialog=!1},registrar_laptop:function(){var t=this,e={headers:{"x-token":this.$store.state.token}};Y().post("https://cat-biblioteca.herokuapp.com/api/laptop",{holder:this.$store.state.datos._id,serial:this.serial,observations:this.observaciones},e).then((function(e){console.log(e),dt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),t.dialog=!1,t.limpiarCajas(),t.listarLaptops()})).catch((function(t){console.log(t),dt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:"<h4>".concat(t.response.data.errors[0].msg,"</h4>"),showCloseButton:!0})}))},editar:function(t){console.log(t)},generarcodigo:function(t){var e=this,o={headers:{"x-token":this.$store.state.token}};console.log(o),this.dialog2=!0,Y().put("https://cat-biblioteca.herokuapp.com/api/laptop/barcodehtml/".concat(t._id),{},o).then((function(t){console.log(t),e.vector=t.data;var o=document.getElementById("s");o.innerHTML=e.vector})).catch((function(t){console.log(t)}))},habilitar:function(t){var e=this;if(console.log(t.state),"1"===t.state){var o={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/laptop/unactivate/".concat(t._id),{},o).then((function(t){console.log(t),e.listarLaptops()})).catch((function(t){console.log(t.response)}))}else{var a={headers:{"x-token":this.$store.state.token}};Y().put("https://cat-biblioteca.herokuapp.com/api/laptop/activate/".concat(t._id),{},a).then((function(t){console.log(t),e.listarLaptops()})).catch((function(t){console.log(t.response)}))}},limpiarCajas:function(){this.serial="",this.observaciones=""}},mounted:function(){this.listarLaptops()}},Kt=Jt,Xt=(0,u.Z)(Kt,Yt,Qt,!1,null,null,null),te=Xt.exports;v()(Xt,{VAlert:mt.Z,VApp:O.Z,VBtn:Z.Z,VCard:K.Z,VCardActions:X.h7,VCardText:X.ZB,VCardTitle:X.EB,VCol:p.Z,VContainer:tt.Z,VDataTable:et.Z,VDialog:ot.Z,VIcon:V.Z,VImg:y.Z,VRow:at.Z,VSpacer:D.Z,VTextField:rt.Z,VTextarea:ft.Z,VTooltip:ht.Z});var ee=[{path:"/",component:Pt},{path:"/miequipo",component:te,meta:{requiresAuth:!0}},{path:"/inicio",component:Wt,meta:{requiresAuth:!0}},{path:"/perfil",component:qt,meta:{requiresAuth:!0}},{path:"/persona",component:nt,meta:{requiresAuth:!0}},{path:"/equipo",name:"equipo",component:bt,meta:{requiresAuth:!0}},{path:"/registro",component:Zt,meta:{requiresAuth:!0}}],oe=o(629);a.Z.use(oe.ZP);var ae=new oe.ZP.Store({state:{token:"",datos:{},foto:""},mutations:{setToken:function(t,e){t.token=e},setDatos:function(t,e){t.datos=e},setFoto:function(t,e){t.foto=e}},actions:{setToken:function(t,e){t.commit("setToken",e)},setDatos:function(t,e){t.commit("setDatos",e)},setFoto:function(t,e){t.commit("setFoto",e)}}});a.Z.use(G.Z),a.Z.use(z());var se=new G.Z({routes:ee,mode:"history"});a.Z.config.productionTip=!1,new a.Z({vuetify:M,router:se,store:ae,render:function(t){return t(L)}}).$mount("#app"),se.beforeEach((function(t,e,o){t.matched.some((function(t){return t.meta.requiresAuth}))?ae.state.token||"/"==t.path?o():o("/"):o()}))},6315:function(t,e,o){t.exports=o.p+"img/good-night-sweet-dreams.df7e41a8.gif"}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,a,s,r){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],r=t[u][2];for(var n=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(o.O).every((function(t){return o.O[t](a[l])}))?a.splice(l--,1):(n=!1,r<i&&(i=r));if(n){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,s,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,r,i=a[0],n=a[1],l=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(l)var u=l(o)}for(e&&e(a);c<i.length;c++)r=i[c],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(u)},a=self["webpackChunkbiblioteca"]=self["webpackChunkbiblioteca"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(2259)}));a=o.O(a)})();
//# sourceMappingURL=app-legacy.c18c2fbb.js.map