(function(){"use strict";var t={5019:function(t,e,a){var s=a(144),o=a(998),i=function(){var t=this,e=t._self._c;return e(o.Z,[e("Header"),e("router-view"),e("Footer")],1)},r=[],l=a(266),n=a(8271),c=function(){var t=this,e=t._self._c;return""!==t.$store.state.token?e("div",{staticClass:"footer mt-10"},[e(n.Z,{attrs:{app:"",color:"black ",padless:""}},[e(l.Z,{staticClass:"text-center white--text",attrs:{cols:"12"}},[e("strong",[t._v("Subasta Ganadera - ")]),t._v(" "+t._s((new Date).getFullYear())+" ")])],1)],1):t._e()},u=[],d={name:"PageFooter",data(){return{}}},h=d,m=a(1001),p=(0,m.Z)(h,c,u,!1,null,null,null),g=p.exports,f=a(6232),b=a(5550),v=a(3423),Z=a(4562),x=a(4324),C=a(5808),_=a(4525),k=a(4611),y=a(2866),w=a(7233),S=a(3687),$=a(7953),P=function(){var t=this,e=t._self._c;return""!==t.$store.state.token&&"/tablero"!=t.$router.path&&"/saleLotCattle"!=t.$router.path?e("div",{staticClass:"mt-1 mb-5"},[e(f.Z,{attrs:{app:"",flex:"",color:"black",dark:""}},[e(b.Z,{on:{click:function(e){t.drawer=!0}}}),e($.qW,[t._v("Subasta Ganadera")]),e(S.Z),e(Z.Z,{staticClass:"red outlined",on:{click:function(e){return t.salir()}}},[t._v(" salir "),e(x.Z,[t._v("mdi-door-open")])],1)],1),e(w.Z,{attrs:{temporary:"",absolute:"",color:"black"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(C.Z,[e(_.Z,[e("h1")]),e(_.Z,{staticClass:"d-flex justify-center",attrs:{to:"/perfil"}},[e(v.Z,{attrs:{color:"yellow",size:"62"}},[e("span",{staticClass:"black--text font-weight-black text-h5"},[t._v(t._s(t.iniciales))])])],1),e(_.Z,{staticClass:"d-flex justify-center white--text mt-4 mb-4"},[e("h3",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.$store.state.datos.name))])]),e(_.Z,{attrs:{to:"/home"}},[e(k.Z,{staticClass:"white--text"},[e(x.Z,{attrs:{color:"white"}},[t._v("mdi-home")])],1),e(y.V9,{staticClass:"white--text"},[t._v("Home")])],1),e(_.Z,{attrs:{to:"/holder"}},[e(k.Z,{staticClass:"white--text"},[e(x.Z,{attrs:{color:"white"}},[t._v("mdi-account")])],1),e(y.V9,{staticClass:"white--text"},[t._v("Holders")])],1),e(_.Z,{attrs:{to:"/sale"}},[e(k.Z,{staticClass:"white--text"},[e(x.Z,{attrs:{color:"white"}},[t._v("mdi-account")])],1),e(y.V9,{staticClass:"white--text"},[t._v("Subasta")])],1)],1)],1)],1):t._e()},B=[],z={name:"PageHeader",data(){return{drawer:!1,group:null}},methods:{salir(){this.$router.replace("/"),this.$store.commit("setToken",""),this.$store.commit("setDatos",{})}},computed:{iniciales(){return this.$store.state.datos.name.charAt(0).toUpperCase()}}},j=z,E=(0,m.Z)(j,P,B,!1,null,null,null),L=E.exports,I={name:"App",components:{Footer:g,Header:L},data:()=>({})},A=I,T=(0,m.Z)(A,i,r,!1,null,null,null),H=T.exports,D=a(8345),O=a(9582),N=a(4886),R=a(2118),q=a(4061),M=a(5495),F=a(2933),G=a(3305),U=a(1713),K=a(7508),V=a(7808),W=function(){var t=this,e=t._self._c;return e(R.Z,{staticClass:"mt-16"},[e(U.Z,[e(l.Z,{attrs:{cols:"1"}}),e(l.Z,{attrs:{cols:"10"}},[e(U.Z,[e(l.Z,{staticClass:"pa-0 ma-0",attrs:{cols:"5"}},[e(O.Z,{staticClass:"elevation-6",attrs:{"max-height":"370"}},[e(M.Z,{attrs:{src:a(3749),"max-height":"370"}})],1)],1),e(l.Z,{staticClass:"pa-0 ma-0",attrs:{cols:"7"}},[e(O.Z,{staticClass:"elevation-6",attrs:{"max-height":"370"}},[e(N.EB,{staticClass:"d-flex justify-center"},[e("h3",[t._v("Inicio de Sesion")])]),e(N.ZB,[e(U.Z,{attrs:{align:"center",justify:"center"}},[e(l.Z,{attrs:{cols:"12",sm:"8"}},[e(V.Z,{staticClass:"mt-12",attrs:{label:"Email",outlined:"",dense:"",color:"black"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}}),e(V.Z,{attrs:{label:"Password",outlined:"",dense:"",color:"black",type:"password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),e(U.Z,[e(l.Z,{staticClass:"mb-6",attrs:{cols:"12",sm:"12"}},[e("span",{staticClass:"Subtitle 1 blue--text",on:{click:function(e){return t.recuperarClave()}}},[t._v("Olvido la contraseña?")])])],1),e(Z.Z,{staticClass:"black--text mb-7",attrs:{color:"green",dark:"",block:"",tile:""},on:{click:function(e){return t.login()}}},[t._v("Iniciar Sesion ")])],1)],1)],1)],1)],1)],1)],1),e(l.Z,{attrs:{cols:"1"}})],1),e(q.Z,{attrs:{"max-width":"400px",persistent:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(O.Z,[e(N.EB,[t._v(" Selecione su lugar de trabajo ")]),e(N.ZB,[e(K.Z,{attrs:{items:t.lugares,label:"Lugar de trabajo...","item-value":"value"},model:{value:t.lugar,callback:function(e){t.lugar=e},expression:"lugar"}})],1),e(N.h7,[e(Z.Z,{attrs:{outlined:"",color:"orange"},on:{click:function(e){return t.ingresarHome()}}},[t._v(" Ingresar ")]),e(S.Z),e(Z.Z,{attrs:{color:"red",outlined:""},on:{click:function(e){return t.cerrar()}}},[t._v(" Cerrar ")])],1)],1)],1),e(q.Z,{attrs:{"max-width":"400px"},model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[e(O.Z,[e(N.EB,{staticClass:"black white--text"},[e("span",[t._v("Introduce tu correo electrónico ")]),e("span",[t._v(" para recuperar cuenta")])]),e(N.ZB,[e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{type:"email",label:"Correo"},model:{value:t.recuperar,callback:function(e){t.recuperar=e},expression:"recuperar"}})],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{staticClass:"orange",on:{click:function(e){return t.cambioClave()}}},[t._v("Enviar")])],1)],1)],1),e(F.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],1)},Y=[],J=(a(7658),a(9669)),Q=a.n(J),X=a(6455),tt=a.n(X),et={name:"PageLogin",data(){return{lugares:[],lugar:"",l:"",dialog2:!1,dialog3:!1,overlay:!1,recuperar:"",correo:"",pass:"",show1:!1,errores:""}},methods:{login(){this.overlay=!0,Q().post("holder/login",{email:this.correo,password:this.pass}).then((t=>{console.log(t.data),this.$store.dispatch("setToken",t.data.token),localStorage.setItem("token",t.data.token),this.$store.dispatch("setDatos",t.data.holder),this.$router.push("/home")})).catch((t=>{console.log(t),this.overlay=!1}))},recuperarClave(){this.dialog3=!0},cambioClave(){this.dialog3=!0,Q().post("holder/requestpasswordreset",{email:this.recuperar}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Correo de recuperacion enviado",showConfirmButton:!1,timer:2e3}),this.recuperar=""})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en los datos</strong>",icon:"error",html:`<h4>${t.response.data}</h4>`,showCloseButton:!0})}))},cerrar(){this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),this.$store.commit("setSubasta",""),this.$store.commit("setLote",""),this.dialog2=!1},registrar_usuario(){this.overlay=!0,console.log(this.password),Q().post("https://cat-biblioteca.herokuapp.com/api/holder",{document:this.documento,name:this.nombre,email:this.email,password:this.password,phone:this.telefono,ficha:this.ficha,rol:this.perfil}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.limpiarcajas(),this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},limpiarcajas(){this.nombre="",this.password="",this.documento="",this.telefono="",this.email="",this.perfil="",this.ficha=""}}},at=et,st=(0,m.Z)(at,W,Y,!1,null,"d241f5f4",null),ot=st.exports,it=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[""!==t.$store.state.token?e(R.Z,{staticClass:"mt-7"},[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(O.Z,{staticClass:"elevation-0"},[e(N.ZB,[e(M.Z,{attrs:{"max-height":"150","max-width":"150",src:a(2405)}})],1),e(N.h7,[e(Z.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/holder"}},[t._v(" Agregar Usuario ")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(O.Z,{staticClass:"elevation-0"},[e(N.ZB,[e(M.Z,{attrs:{"max-height":"150","max-width":"150",src:a(4246)}})],1),e(N.h7,[e(Z.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/sale"}},[t._v(" Crear Subasta ")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(O.Z,{staticClass:"elevation-0"},[e(N.ZB,[e(M.Z,{attrs:{"max-height":"150","max-width":"150",src:a(505)}})],1),e(N.h7,[e(Z.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/perfil"}},[t._v(" Mis Datos ")])],1)],1)],1)],1)],1):t._e()],1)},rt=[],lt={name:"PageInicio",data(){return{}},methods:{login(){this.$router.replace("/")}},mounted(){}},nt=lt,ct=(0,m.Z)(nt,it,rt,!1,null,null,null),ut=ct.exports,dt=a(3875),ht=a(6313),mt=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[[e(R.Z,{staticClass:"mt-5",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Holders")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(Z.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoHolder()}}},[t._v("Nuevo Usuario")])],1)],1)],1)],1),e(dt.Z,{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.holders,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function({item:a}){return["1"===a.state?[e(x.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(a)}}},[t._v(" mdi-account-off")])]:[e(x.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(a)}}},[t._v("mdi-account-check")])],[e(x.Z,{staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.abrir(a)}}},[t._v(" mdi-pencil")])]]}},{key:"item.state",fn:function({item:a}){return["1"===a.state?e("span",{staticClass:"green--text"},[t._v("Activo")]):e("span",{staticClass:"red--text"},[t._v("Inactivo")])]}}],null,!0)})],e(q.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(Z.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(x.Z,[t._v("mdi-close")])],1),e($.qW,[t._v(t._s(t.titulo))])],1),e(O.Z,[e(N.ZB,[e(R.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(V.Z,{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(V.Z,{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),1!=t.bd?e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1):t._e()],1)],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionHolder()}}},[t._v(" Guardar ")])],1)],1)],1),e(F.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],2)},pt=[],gt={name:"PagePersona",data(){return{dialog:!1,overlay:!1,titulo:"Guardar Holder",id:"",bd:!1,nombre:"",documento:"",telefono:"",correo:"",encabezados:[{text:"Documento",align:"start",sortable:!1,value:"document"},{text:"Nombre",value:"name"},{text:"Telefono",value:"phone"},{text:"Correo",value:"email"},{text:"Estado",value:"state",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],holders:[]}},methods:{listarHolders(){let t={headers:{"x-token":this.$store.state.token}};Q().get("holder",t).then((t=>{console.log(t),this.holders=t.data.holder})).catch((t=>{console.log(t)}))},nuevoHolder(){this.dialog=!0,this.bd=!1,this.titulo="Guardar Holder"},accionHolder(){!0===this.bd?(console.log("estoy editando.."),this.editarHolder()):(console.log("estoy agregando.."),this.agregarHolder())},limpiarCajas(){this.telefono="",this.nombre="",this.documento="",this.correo=""},abrir(t){console.log(t),this.titulo="Editar Holder",this.bd=!0,this.dialog=!0,this.id=t._id,console.log(this.id),this.nombre=t.name,this.documento=t.document,this.telefono=t.phone,this.correo=t.email,this.perfil=t.rol,this.ficha=t.ficha},editarHolder(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.documento),Q().put(`holder/${this.id}`,{document:this.documento,name:this.nombre,phone:this.telefono},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarHolders(),this.limpiarCajas(),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},agregarHolder(){this.overlay=!0,Q().post("holder",{document:this.documento,name:this.nombre,email:this.correo,password:this.documento,phone:this.telefono}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.listarHolders(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},editar(t){console.log(t.state),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea cambiar el estado del usuario?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed)if("1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`holder/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarHolders(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`holder/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarHolders(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}}))}},mounted(){this.listarHolders()}},ft=gt,bt=(0,m.Z)(ft,mt,pt,!1,null,null,null),vt=bt.exports,Zt=a(2082),xt=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[[e(R.Z,{staticClass:"mt-5",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Subastas")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevaSubasta()}}},[t._v("Nueva Subasta")])],1)],1)],1)],1),e(dt.Z,{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.subastas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function({item:a}){return["2"!=a.state?e("div",["1"===a.state?[e(x.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.habilitar(a)}}},[t._v(" mdi-account-off")])]:[e(x.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.habilitar(a)}}},[t._v("mdi-account-check")])],e(Zt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:o}){return[e(x.Z,t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.editar(a)}}},"v-icon",o,!1),s),[t._v(" mdi-pencil")])]}}],null,!0)},[e("span",[t._v("Editar Subasta")])])],2):t._e()]}},{key:"item.lotes",fn:function({item:a}){return[e(Zt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:o}){return[e(x.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black"},on:{click:function(e){return t.verLotes(a)}}},"v-icon",o,!1),s),[t._v(" mdi-cow ")])]}}],null,!0)},[e("span",[t._v("Ver lotes")])])]}},{key:"item.terminar",fn:function({item:a}){return["1"==a.state||"3"==a.state?e(Zt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:o}){return[e(x.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black"},on:{click:function(e){return t.terminarSubasta(a)}}},"v-icon",o,!1),s),[t._v(" mdi-exit-to-app ")])]}}],null,!0)},[e("span",[t._v("Terminar Subasta")])]):t._e()]}},{key:"item.participantes",fn:function({item:s}){return[e(Zt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(M.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black",src:a(4552),"max-height":"40","max-width":"40"},on:{click:function(e){return t.verParticipantes(s)}}},"v-img",i,!1),o))]}}],null,!0)},[e("span",[t._v("Ver participantes")])])]}},{key:"item.iniciar",fn:function({item:s}){return[e(Zt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(M.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black",src:a(4246),"max-height":"40","max-width":"40"},on:{click:function(e){return t.verParticipantes(s)}}},"v-img",i,!1),o))]}}],null,!0)},[e("span",[t._v("Iniciar subasta")])])]}},{key:"item.state",fn:function({item:a}){return["1"===a.state?e("span",{staticClass:"green--text"},[t._v("Activo")]):t._e(),"3"===a.state?e("span",{staticClass:"orange--text"},[t._v("En subasta")]):t._e(),"2"===a.state?e("span",{staticClass:"red--text"},[t._v("Subastado")]):t._e(),"0"===a.state?e("span",{staticClass:"red--text"},[t._v("Inactivo")]):t._e()]}},{key:"item.createdAt",fn:function({item:a}){return[e("span",[t._v(" "+t._s(t.fechaSalida(a.createdAt)))])]}}],null,!0)})],e(q.Z,{attrs:{persistent:"","max-width":"300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(O.Z,[e(N.EB,[e("span",{staticClass:"text-h5"},[t._v("Guardar Subasta")])]),e(N.ZB,[e(R.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{label:"Tipo de subasta"},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1)],1)],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{attrs:{color:"red",outlined:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(Z.Z,{attrs:{color:"green",outlined:""},on:{click:function(e){return t.registrar_sale()}}},[t._v(" "+t._s(t.etiqueta)+" ")])],1)],1)],1),e(F.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],2)},Ct=[],_t={name:"PageSubasta",data(){return{overlay:!1,dialog:!1,estado:"Activo",tipo:"",bd:!1,etiqueta:"Guardar",encabezados:[{text:"Numero de subasta",align:"left",sortable:!1,value:"salenumber"},{text:"Tipo de subasta",value:"type"},{text:"Estado",value:"state"},{text:"Creado",value:"createdAt",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1},{text:"Lotes",value:"lotes",sortable:!1},{text:"Participantes",value:"participantes",sortable:!1},{text:"Terminar Subasta",value:"terminar",sortable:!1}],subastas:[]}},methods:{listarSubastas(){console.log(localStorage.getItem("token"));let t={headers:{"x-token":this.$store.state.token}};Q().get("sale",t).then((t=>{console.log(t),this.subastas=t.data.sale})).catch((t=>{console.log(t)}))},nuevaSubasta(){this.dialog=!0,this.etiqueta="Guardar",this.bd=!1},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},editarSale(){let t={headers:{"x-token":this.$store.state.token}};Q().put("sale",{type:this.tipo},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.dialog=!1,this.listarSubastas(),this.limpiarCajas(),this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},guardarSale(){let t={headers:{"x-token":this.$store.state.token}};Q().post("sale",{type:this.tipo},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.dialog=!1,this.limpiarCajas(),this.listarSubastas(),this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},registrar_sale(){this.overlay=!0,!0===this.bd?this.editarSale():this.guardarSale()},editar(t){this.dialog=!0,this.bd=!0,this.etiqueta="Editar",console.log(t)},verLotes(t){console.log(t._id),this.$store.dispatch("setSubasta",t),this.$router.push("/lotCattle")},verParticipantes(t){console.log(t._id),console.log(t.salenumber),this.$store.dispatch("setSubasta",t),this.$router.push("/saleHolder")},terminarSubasta(t){console.log(t),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed){let e={headers:{"x-token":this.$store.state.token}};Q().put(`sale/cerrarsubasta/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Subasta Cerrada",showConfirmButton:!1,timer:2e3}),this.listarSubastas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.sale}</h4>`,showCloseButton:!0})}))}}))},habilitar(t){if(console.log(t.state),"1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`sale/unactivate/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarSubastas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`sale/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarSubastas()})).catch((t=>{console.log(t)}))}},limpiarCajas(){this.serial="",this.observaciones=""},fechaSalida(t){let e=new Date(t);return this.span=!0,e.toLocaleDateString()+" - "+e.toLocaleTimeString()}},mounted(){this.listarSubastas()}},kt=_t,yt=(0,m.Z)(kt,xt,Ct,!1,null,null,null),wt=yt.exports,St=a(9223),$t=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[""!==t.$store.state.token?e(R.Z,{staticClass:"mb-16"},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Lotes a subastar")])])],1),e(l.Z,{attrs:{cols:"5"}},[e(O.Z,{staticClass:"elevation-0 d-flex justify-end"},["2"!==t.$store.state.subasta.state?e(Z.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoLote()}}},[t._v("Nuevo lote")]):t._e()],1)],1),e(l.Z,{attrs:{cols:"1"}},[e(O.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(Z.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.crearPDF()}}},[e(x.Z,[t._v("mdi-printer")])],1)],1)],1)],1),e(U.Z,t._l(t.lotes,(function(a,s){return e(l.Z,{key:s,attrs:{cols:"4"}},[e(O.Z,{staticClass:"mx-auto",attrs:{"max-width":"300"}},[e(N.EB,[t._v("Subasta No. "+t._s(a.sale.salenumber))]),e(N.ZB,[e(U.Z,{staticClass:"mx-0",attrs:{align:"center"}},[e("div",{staticClass:"grey--text ms-4"},[t._v("Origen "+t._s(a.origin))])]),e("div",{staticClass:"my-4 text-subtitle-1"},[e("span",[t._v("Cantidad de cabezas "+t._s(a.quantity))])]),e("div",{attrs:{"my-4":"","text-subtitle-1":""}},[e("span",[t._v(" Clase de ganado "+t._s(a.classcattle))])]),e("div",{attrs:{"my-4":"","text-subtitle-1":""}},[e("span",[t._v(" Raza"+t._s(a.breed.description))])])],1),e(St.Z,{staticClass:"mx-4"}),e(N.EB,[t._v("Lote No. "+t._s(a.lot)+" "),e(S.Z),["0"==a.state?e("span",{staticClass:"green--text",attrs:{text:""}},[t._v("Inactivo")]):t._e(),"1"==a.state?e("span",{staticClass:"green--text",attrs:{text:""}},[t._v("Activo")]):t._e(),"3"==a.state?e("span",{staticClass:"orange--text",attrs:{text:""}},[t._v("Subasta en proceso")]):t._e(),"2"==a.state?e("span",{staticClass:"red--text",attrs:{text:""}},[t._v("Subastado")]):t._e()]],2),e(N.h7,["1"==a.state||"3"==a.state?e(Z.Z,{attrs:{color:"green",outlined:""},on:{click:function(e){return t.subastar(a)}}},[t._v(" Subastar ")]):t._e(),e(S.Z),"1"==a.state||"3"==a.state?e(x.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(a)}}},[t._v("mdi-pencil")]):t._e(),"0"==a.state||"1"==a.state?["0"==a.state?e(x.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.activarDesactivar(a)}}},[t._v("mdi-eye")]):e(x.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.activarDesactivar(a)}}},[t._v("mdi-eye-off")])]:t._e()],2)],1)],1)})),1)],1):t._e(),e(q.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(Z.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(x.Z,[t._v("mdi-close")])],1),e($.qW,[t._v(t._s(t.titulo))])],1),e(O.Z,[e(N.ZB,[e(R.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Proveedor...",items:t.holders,"item-value":"value"},model:{value:t.proveedor,callback:function(e){t.proveedor=e},expression:"proveedor"}})],1),!1===t.bd?e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Subasta",disabled:""},model:{value:t.subasta,callback:function(e){t.subasta=e},expression:"subasta"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Origen"},model:{value:t.origen,callback:function(e){t.origen=e},expression:"origen"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Cantidad",type:"number"},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Clase de ganado"},model:{value:t.clase,callback:function(e){t.clase=e},expression:"clase"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Peso",type:"number"},model:{value:t.peso,callback:function(e){t.peso=e},expression:"peso"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Crias Hembra",type:"number"},model:{value:t.criasH,callback:function(e){t.criasH=e},expression:"criasH"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"Crias Macho",type:"number"},model:{value:t.criasM,callback:function(e){t.criasM=e},expression:"criasM"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(V.Z,{attrs:{label:"ICA"},model:{value:t.ica,callback:function(e){t.ica=e},expression:"ica"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Razas...",items:t.razas,"item-value":"value"},model:{value:t.raza,callback:function(e){t.raza=e},expression:"raza"}})],1)],1)],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(Z.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionLote()}}},[t._v(" "+t._s(t.etiqueta)+" ")])],1)],1)],1)],1)},Pt=[],Bt=a(8519),zt=(a(8159),{name:"LotCattle",data(){return{dialog:!1,bd:!1,titulo:"Guardar Lote",etiqueta:"Gurdar",subasta:this.$store.state.subasta.salenumber,idSubasta:this.$store.state.subasta._id,idLote:"",proveedor:"",origen:"",cantidad:0,clase:"",peso:0,criasM:0,criasH:0,raza:"",ica:"",lotes:[],lotesPuja:[],holders:[],razas:[],subastas:[]}},methods:{listarLotes(){console.log(this.$store.state.subasta);let t={headers:{"x-token":this.$store.state.token}};Q().get(`lotcattle/subasta/${this.idSubasta}`,t).then((t=>{console.log(t),this.lotes=t.data.cattleLot})).catch((t=>{console.log(t)}))},listarLotesPuja(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`lotcattle/puja/${this.idSubasta}`,t).then((t=>{console.log(t),this.lotesPuja=t.data.cattleLot})).catch((t=>{console.log(t)}))},listarProveedores(){let t={headers:{"x-token":this.$store.state.token}};Q().get("holder",t).then((t=>{console.log(t),t.data.holder.forEach((t=>{this.holders.push({text:" documento: "+t.document+" - "+t.name,value:t._id})}))})).catch((t=>{console.log(t)}))},listarRazas(){let t={headers:{"x-token":this.$store.state.token}};Q().get("breed",t).then((t=>{console.log(t),t.data.breed.forEach((t=>{this.razas.push({text:t.description,value:t._id})}))})).catch((t=>{console.log(t)}))},subastar(t){if(console.log(t),this.$store.dispatch("setLote",t),localStorage.setItem("lote",t._id),localStorage.setItem("subasta",t.sale._id),console.log(t.state),1==t.state){let e={headers:{"x-token":this.$store.state.token}};Q().post("salelotcattle",{lotcattle:t._id},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),window.open("https://subasta-ganadera.herokuapp.com/#/saleLotCattle","_blank")})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))}else 3==t.state&&window.open("https://subasta-ganadera.herokuapp.com/#/saleLotCattle","_blank")},editar(t){console.log(t),this.dialog=!0,this.bd=!0,this.idLote=t._id,this.etiqueta="Editar",this.titulo="Editar Lote",this.proveedor=t.provider._id,this.origen=t.origin,this.cantidad=t.quantity,this.criasH=t.calffemale,this.criasM=t.calfmale,this.clase=t.classcattle,this.ica=t.ica,this.peso=t.weight},nuevoLote(){this.dialog=!0,this.bd=!1,this.etiqueta="Guardar",this.titulo="Guardar Lote"},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},activarDesactivar(t){console.log(t._id),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea cambiar el estado del usuario?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed)if("1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`lotcattle/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLotes(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`lotcattle/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLotes(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}}))},accionLote(){!0===this.bd?(console.log("estoy editando.."),this.editarLote()):(console.log("estoy agregando.."),this.agregarLote())},editarLote(){let t={headers:{"x-token":this.$store.state.token}};Q().put(`lotcattle/${this.idLote}`,{provider:this.proveedor,origin:this.origen,quantity:this.cantidad,classcattle:this.clase,weight:this.peso,calfmale:this.criasH,calffemale:this.criasM,breed:this.raza,ica:this.ica},t).then((t=>{console.log(t),tt().fire("Ok","Actulizacion exitosa","success"),this.listarLotes(),this.listarLotesPuja(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},agregarLote(){let t={headers:{"x-token":this.$store.state.token}};Q().post("lotcattle",{sale:this.idSubasta,provider:this.proveedor,origin:this.origen,quantity:this.cantidad,classcattle:this.clase,weight:this.peso,calfmale:this.criasH,calffemale:this.criasM,breed:this.raza,ica:this.ica},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarLotes(),this.listarLotesPuja(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},limpiarCajas(){this.proveedor="",this.origen="",this.cantidad="",this.criasH="",this.criasM="",this.clase="",this.raza="",this.ica="",this.peso=""},fechaSalida(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},crearPDF(){var t=[{title:"Lote #",dataKey:"lote"},{title:"Origen",dataKey:"origen"},{title:"Raza",dataKey:"raza"},{title:"Cantidad",dataKey:"cantidad"},{title:"Crias de hembras",dataKey:"criasH"},{title:"Crias de machos",dataKey:"criasM"},{title:"Peso",dataKey:"peso"},{title:"Peso promedio",dataKey:"pesoProm"},{title:"Fecha llegada",dataKey:"creado"}],e=[];this.lotesPuja.map((function(t){let a=new Date(t.createdAt),s=a.toLocaleDateString()+" - "+a.toLocaleTimeString();e.push({lote:t.lot,origen:t.origin,raza:t.breed.description,cantidad:t.quantity,criasH:t.calffemale,criasM:t.calfmale,peso:t.weight,pesoProm:t.weightavg,creado:s})}));var a=new Bt["default"]("l","pt");a.autoTable(t,e,{margin:{top:60,left:30},addPageContent:function(){a.text("Lista de lotes",30,30)}}),a.save("Lotes.pdf")}},mounted(){this.listarLotes(),this.listarProveedores(),this.listarRazas(),this.listarLotesPuja()}}),jt=zt,Et=(0,m.Z)(jt,$t,Pt,!1,null,null,null),Lt=Et.exports,It=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[e(R.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Participantes de la subasta")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"elevation-0 d-flex justify-end"},["2"!==t.$store.state.subasta.state?e(Z.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoParticipante()}}},[t._v("Nuevo participante")]):t._e()],1)],1)],1),e(U.Z,t._l(t.participantes,(function(a,s){return e(l.Z,{key:s,attrs:{cols:"4"}},[e(O.Z,{staticClass:"elevation-1",attrs:{"max-width":"200"}},[e(N.EB,{staticClass:"d-flex justify-center"},[e(v.Z,{attrs:{color:"red"}},[e("span",{staticClass:"white--text"},[t._v(t._s(a.consecutiveholder))])])],1),e(N.ZB,[e(U.Z,{staticClass:"mx-0",attrs:{align:"center"}},[e("span",[t._v("Participante de la subasta ")])])],1),e(St.Z,{staticClass:"mx-4"}),e(N.EB,[t._v("Subasta No. "+t._s(a.sale.salenumber)+" "),e(S.Z)],1),e(N.ZB,[["1"==a.state?e("span",{staticClass:"green--text",attrs:{text:""}},[t._v("Activo")]):e("span",{staticClass:"red--text",attrs:{text:""}},[t._v("Subastado")])]],2),e(N.h7,["2"!==t.$store.state.subasta.state?e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.editar(a)}}},[t._v("Editar")]):t._e(),e(S.Z),"2"!==t.$store.state.subasta.state?["0"==a.state?e(x.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(t.l)}}},[t._v("mdi-account-check")]):e(x.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(t.l)}}},[t._v("mdi-account-off")])]:t._e()],2)],1)],1)})),1)],1),e(q.Z,{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(Z.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(x.Z,[t._v("mdi-close")])],1),e($.qW,[t._v(t._s(t.titulo))])],1),e(O.Z,{},[e(N.ZB,[e(R.Z,[e(U.Z,[!1===t.bd?e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{label:"No. Subasta",disabled:""},model:{value:t.subasta,callback:function(e){t.subasta=e},expression:"subasta"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",md:"6"}},[e(K.Z,{attrs:{label:"Proveedor...",items:t.holders,"item-value":"value"},model:{value:t.proveedor,callback:function(e){t.proveedor=e},expression:"proveedor"}})],1),e(l.Z,{attrs:{cols:"12",md:"6","align-self":"center"}},[e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoUsuario()}}},[t._v("Agregar usuario")])],1)],1)],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(Z.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionParticipante()}}},[t._v(" "+t._s(t.etiqueta)+" ")])],1)],1)],1),e(q.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(Z.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialogoHolder()}}},[e(x.Z,[t._v("mdi-close")])],1),e($.qW,[t._v("Guardar usuario")])],1),e(O.Z,[e(N.ZB,[e(R.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(V.Z,{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(V.Z,{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),1!=t.bd?e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1):t._e()],1)],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialogoHolder()}}},[t._v(" Cerrar ")]),e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.agregarHolder()}}},[t._v(" Guardar ")])],1)],1)],1)],1)},At=[],Tt={name:"LotCattle",data(){return{dialog:!1,bd:!1,titulo:"Guardar Lote",etiqueta:"Guardar",subasta:this.$store.state.subasta.salenumber,idSubasta:this.$store.state.subasta._id,proveedor:"",lotes:[],holders:[],participantes:[],subastas:[],nombre:"",documento:"",telefono:"",correo:"",dialog2:!1}},methods:{listarParticipantes(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`saleholder/subasta/${this.$store.state.subasta._id}`,t).then((t=>{console.log(t.data.saleHolder),this.participantes=t.data.saleHolder})).catch((t=>{console.log(t)}))},listarProveedores(){let t={headers:{"x-token":this.$store.state.token}};Q().get("holder",t).then((t=>{console.log(t),t.data.holder.forEach((t=>{this.holders.push({text:" documento: "+t.document+" - "+t.name,value:t._id})}))})).catch((t=>{console.log(t)}))},agregarHolder(){this.overlay=!0,Q().post("holder",{document:this.documento,name:this.nombre,email:this.correo,password:this.documento,phone:this.telefono}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.limpiarCajasHolder(),this.listarProveedores()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},nuevoUsuario(){this.dialog2=!0,this.dialog=!1},cerrarDialogoHolder(){this.dialog2=!1,this.limpiarCajasHolder()},limpiarCajasHolder(){this.telefono="",this.nombre="",this.documento="",this.correo=""},subastar(t){console.log(t),this.$store.dispatch("setLote",t)},editar(t){console.log(t),this.dialog=!0,this.titulo="Editar participante",this.etiqueta="Editar",this.bd=!0,this.proveedor=t.holder._id},nuevoParticipante(){this.dialog=!0,this.titulo="Guardar participante",this.etiqueta="Guardar",this.bd=!1},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},accionParticipante(){!0===this.bd?(console.log("estoy editando.."),this.editarPartcipante()):(console.log("estoy agregando.."),this.agregarPartcipante())},agregarPartcipante(){let t={headers:{"x-token":this.$store.state.token}};Q().post("saleholder",{sale:this.idSubasta,holder:this.proveedor},t).then((t=>{console.log(t.data),this.limpiarCajas(),this.listarParticipantes(),this.dialog=!1})).catch((t=>{console.log(t)}))},editarPartcipante(){let t={headers:{"x-token":this.$store.state.token}};Q().put("saleholder",{holder:this.proveedor},t).then((t=>{console.log(t.data),this.limpiarCajas(),this.listarParticipantes(),this.dialog=!1})).catch((t=>{console.log(t)}))},limpiarCajas(){this.proveedor=""}},mounted(){this.listarParticipantes(),this.listarProveedores()}},Ht=Tt,Dt=(0,m.Z)(Ht,It,At,!1,null,null,null),Ot=Dt.exports,Nt=a(7941),Rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-10 mt-16"},[e("div",[e(R.Z,{staticClass:"green cont d-flex justify-center",staticStyle:{height:"200px"}},[e(v.Z,{staticClass:"ava",attrs:{color:"yellow",size:"150"}},[e("span",{staticClass:"black--text font-weight-black text-h2"},[t._v(t._s(t.iniciales))])])],1),e(R.Z,{staticClass:"d-flex justify-center mb-10"},[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"2"}}),e(l.Z,{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"8"}},[e(O.Z,{staticClass:"mt-5 tar black white--text",attrs:{width:"500px",rounded:"xl"}},[e(N.EB),e(N.EB,{staticClass:"d-flex justify-center mt-4"},[t._v(" "+t._s(t.nombre)+" ")]),e(C.Z,{staticClass:"d-flex justify-center"},[e(Nt.Z,[e(_.Z,[e(k.Z,[e(x.Z,[t._v(" mdi-account ")])],1),e(y.km,[e(y.V9,[t._v("Documento: "+t._s(t.documento))])],1)],1),e(_.Z,[e(k.Z,[e(x.Z,[t._v(" mdi-email ")])],1),e(y.V9,[t._v("Correo: "+t._s(t.correo))]),e(y.km)],1),e(_.Z,[e(k.Z,[e(x.Z,[t._v(" mdi-phone ")])],1),e(y.km,[e(y.V9,[t._v("Telefono: "+t._s(t.telefono))])],1)],1)],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{staticClass:"ml-3",attrs:{color:"green",text:""},on:{click:function(e){return t.abrir()}}},[e(x.Z,[t._v("mdi-pencil")]),t._v(" Actualizar Perfil ")],1)],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"2"}})],1)],1),e(q.Z,{attrs:{height:"500",width:"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("div",{staticClass:"white",attrs:{align:"center",justify:"center"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(Z.Z,{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[e(x.Z,[t._v("mdi-close")])],1),e($.qW,[t._v("Registre sus datos")])],1),e(R.Z,[e(U.Z,[e(l.Z,{staticClass:"mt-4",attrs:{cols:"12"}},[e(N.ZB,[e(U.Z,{attrs:{align:"center",justify:"center"}},[e(l.Z,{attrs:{cols:"12",align:"center",justify:"center"}},[e(V.Z,{attrs:{label:"Nombre Completo",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),e(V.Z,{attrs:{label:"Documento",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}}),e(V.Z,{attrs:{label:"Telefono",type:"Number",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1)],1)],1),e(N.h7,[e(Z.Z,{staticClass:"green black--text mb-6",on:{click:function(e){return t.editarHolder()}}},[t._v("Actualizar Datos")])],1)],1)],1)],1)],1)])],1),e(F.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],1)},qt=[],Mt={name:"PagePerfil",data(){return{rolesAdmin:["ADMIN","PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECARIA","BIBLIOTECA","GUARDA","PORTERIA"],rolesBiblioteca:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECARIA","BIBLIOTECA"],rolesPorteria:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","GUARDA","PORTERIA"],roles:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO"],dialog:!1,dialog2:!1,img:"",overlay:!1,nombre:this.$store.state.datos.name,perfil:this.$store.state.datos.rol,documento:this.$store.state.datos.document,ficha:this.$store.state.datos.ficha,correo:this.$store.state.datos.email,telefono:this.$store.state.datos.phone,imagen:this.$store.state.datos.photo}},methods:{login(){this.$router.replace("/")},abrir(){this.dialog=!0},subir(t){this.img=t.target.files[0],console.log(this.img);let e=new FormData;e.append("archivo",this.img);let a={headers:{"x-token":this.$store.state.token}};console.log(e),Q().post(`https://cat-biblioteca.herokuapp.com/api/holder/uploadcloud/${this.$store.state.datos._id}`,e,a).then((t=>{console.log(t.data.url),this.imagen=t.data.url,this.$store.dispatch("setFoto",t.data.url)})).catch((t=>{console.log(t)}))},editarHolder(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.documento),Q().put(`holder/${this.id}`,{document:this.documento,name:this.nombre,phone:this.telefono},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarHolders(),this.limpiarCajas(),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))}},computed:{iniciales(){return this.$store.state.datos.name.charAt(0).toUpperCase()}},mount(){this.llenar_perfil()}},Ft=Mt,Gt=(0,m.Z)(Ft,Rt,qt,!1,null,null,null),Ut=Gt.exports,Kt=function(){var t=this,e=t._self._c;return e("div",[e(R.Z,{staticClass:"mt-16",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"12",md:"4"}}),e(l.Z,{attrs:{cols:"12",md:"4"}},[e(O.Z,[e(N.EB,{staticClass:"black white--text"},[e("span",[t._v("Cambio de contraseña")])]),e(N.ZB,[e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{staticClass:"input-group--focused",attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",type:t.show3?"text":"password",name:"input-10-2",label:"Nueva contraseña"},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.nueva1,callback:function(e){t.nueva1=e},expression:"nueva1"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(V.Z,{staticClass:"input-group--focused",attrs:{name:"input-10-2",label:"Confirmar la nueva contraseña"},model:{value:t.nueva2,callback:function(e){t.nueva2=e},expression:"nueva2"}})],1)],1),e(N.h7,[e(S.Z),e(Z.Z,{staticClass:"orange",attrs:{dense:"",elevation:"2"},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",md:"4"}})],1)],1)],1)},Vt=[],Wt={name:"ResetearPassword",data(){return{show3:!1,nueva1:"",nueva2:""}},methods:{guardar(){const t=window.location.search;console.log(t);let e=new URLSearchParams(t),a=e.get("token"),s=e.get("id"),o={headers:{"x-token":a}};this.nueva1===this.nueva2?Q().post("holder/passwordreset",{holderId:s,password:this.nueva2},o).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Cambio de contraseña exitoso",showConfirmButton:!1,timer:2e3})})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})})):(tt().fire({title:"<strong>Error en contraseña</strong>",icon:"error",html:"<h4>No coinciden las contraseñas</h4>",showCloseButton:!0}),this.nueva1="",this.nueva2="")}}},Yt=Wt,Jt=(0,m.Z)(Yt,Kt,Vt,!1,null,null,null),Qt=Jt.exports,Xt=a(2540),te=function(){var t=this,e=t._self._c;return e(o.Z,[e(R.Z,{attrs:{fluid:""}},[e(U.Z,{staticClass:"car2 mx-1"},[e(l.Z,{staticStyle:{"font-size":"17px","text-align":"center"},attrs:{cols:"12"}},[e(U.Z,[e("h1",{staticClass:"red--text ml-5"},[t._v("Datos del lote No. "+t._s(t.lote))]),e(S.Z),e("div",{attrs:{"align-items":"center"}},[3==t.estado?e("h3",{staticClass:"mr-10"},[t._v("En Subasta")]):t._e(),2==t.estado?e("h3",{staticClass:"mr-10"},[t._v("Terminada")]):t._e()])],1)],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Clase de lote: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.clase))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Raza: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.raza))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Crias hembra: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.criasH))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Crias Macho: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.criasM))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Peso total: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.peso))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Peso promedio: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.pesoProm))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Cantidad de reces: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.cantidad))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Origen: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.origen))])])])],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(O.Z,{staticClass:"car"},[e(N.EB,[e(U.Z,[e("h2",{staticClass:"my-4 ml-5"},[t._v("Datos de la subasta")]),e(U.Z),e(S.Z),e(Z.Z,{staticClass:"my-4 ml-5 mr-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.irTablero()}}},[t._v("Tablero")])],1)],1),e(N.ZB,[e(U.Z,[e(l.Z,{attrs:{cols:"12",md:"4"}},[e(Xt.Z,{staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Precio Inicial")])],1),e(l.Z,{attrs:{cols:"12",md:"5"}},[e(V.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Precio Inicial",value:"0.0",prefix:"$"},model:{value:t.precioKg,callback:function(e){t.precioKg=e},expression:"precioKg"}})],1),e(l.Z,{attrs:{cols:"12",md:"3"}},[2!=t.estado?e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.precioInicial()}}},[t._v("Establecer")]):t._e()],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(Xt.Z,{staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Puja")])],1),e(l.Z,{attrs:{cols:"8"}},[e(V.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{size:"13",label:"Puja",value:"0.0",prefix:"$"},model:{value:t.precioFin,callback:function(e){t.precioFin=e},expression:"precioFin"}})],1)],1),e(St.Z,{staticClass:"mx-4 my-4"}),e(U.Z,[e(l.Z,{attrs:{cols:"5",align:"center"}},[e(M.Z,{attrs:{src:a(6784),height:"100",width:"100"}})],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e(V.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Numero de paleta",prefix:"#"},model:{value:t.paleta,callback:function(e){t.paleta=e},expression:"paleta"}})],1),e(l.Z,{attrs:{cols:"4","align-self":"center",align:"center"}})],1)],1),e(N.h7,[2!=t.estado?e(Z.Z,{staticClass:"my-5 ml-5",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.subastaDesierta()}}},[t._v(" Subasta Desierta ")]):t._e(),e(S.Z),2!=t.estado?e(Z.Z,{staticClass:"my-5 mr-5",attrs:{color:"green",outlined:""},on:{click:function(e){return t.adjudicar()}}},[t._v("Adjudicar Subasta ")]):t._e()],1)],1)],1),e(l.Z,{attrs:{cols:"2"}},[e(U.Z,[e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e("h2",[t._v("Paletera")])]),t._l(t.participantes,(function(a,s){return e(l.Z,{key:s,attrs:{cols:"6"}},[e(O.Z,{staticClass:"text-center elevation-0"},[e(v.Z,{attrs:{color:"pink",size:"68"},on:{click:function(e){return t.participante(a)}}},[e("h1",{staticClass:"white--text"},[t._v(t._s(a.consecutiveholder))])])],1)],1)}))],2)],1),e(l.Z,{staticClass:"columna mt-2",attrs:{cols:"4"}},[e(U.Z,[e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e("h2",[t._v("Precios")])]),e(l.Z,{attrs:{cols:"6"}},[e(S.Z),2!=t.estado?e(Z.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.enviarPuja()}}},[t._v("Enviar puja")]):t._e()],1)],1)],1),t._l(t.preciosBotonera,(function(a,s){return e(l.Z,{key:s,attrs:{cols:"4"}},[e(O.Z,{staticClass:"text-center elevation-0"},[e(v.Z,{attrs:{rounded:"",color:"blue",size:"68"},on:{click:function(e){return t.botonera(a)}}},[e("h2",{staticClass:"white--text"},[t._v(t._s(t.precioKg+a))])])],1)],1)}))],2)],1)],1)],1)],1)},ee=[],ae={name:"SaleLotCattle",data(){return{precioFin:0,participantes:[],subasta:"",id:"",idSubasta:"",idSaleHolder:"",lote:"",estado:1,peso:0,pesoProm:0,origen:"",cantidad:0,clase:"",raza:"",criasM:0,criasH:0,precioInicia:0,precioFinal:0,precioTotal:0,holderActual:"",paleta:"",precioKg:7200,preciosBotonera:[100,200,300,400,500,600,700,800,900,1e3,1100,1200]}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{t&&(this.idSubasta=t.sale,console.log(this.idSubasta),this.id=t._id,this.estado=t.lotcattle.state,this.lote=t.lotcattle.lot,this.peso=t.lotcattle.weight,this.pesoProm=t.lotcattle.weightavg,this.participantes=t.holders,console.log(this.participantes),this.cantidad=t.lotcattle.quantity,this.clase=t.lotcattle.classcattle,this.origen=t.lotcattle.origin,this.raza=t.lotcattle.breed.description,this.criasH=t.lotcattle.calffemale,this.criasM=t.lotcattle.calfmale,this.precioInicia=t.initialprice,this.precioFinal=t.currentpricekg,this.precioTotal=t.currentprice,this.holderActual=t.currentholder,this.paleta=t.currentconsecutiveholder,console.log(t))}))},disconnect(){this.isConnected=!1,console.log("desconectado")}},methods:{participante(t){this.paleta=t.consecutiveholder,this.idSaleHolder=t._id,console.log(t._id)},botonera(t){this.precioFin=this.precioKg+t,console.log(this.precioFin)},adjudicar(){tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{if(t.isConfirmed){const t=this.id,e={idSaleLotCattle:t};this.$socket.emit("adjudiquesubasta",e,(t=>{console.log(t),this.estado=t})),tt().fire({position:"bottom-end",icon:"success",title:"Subasta terminada",showConfirmButton:!1,timer:2e3})}}))},precioInicial(){console.log(this.idSubasta);const t=this.id,e=this.precioKg,a={idSaleLotCattle:t,precioInicial:e};console.log(a),this.$socket.emit("asigneprecioinicial",a,(t=>{console.log(t)}))},subastaDesierta(){tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{if(t.isConfirmed){const t=this.id,e={idSaleLotCattle:t};this.$socket.emit("declaresubastadesierta",e,(t=>{console.log(t)})),tt().fire({position:"bottom-end",icon:"success",title:"Subasta Desierta",showConfirmButton:!1,timer:2e3})}}))},enviarPuja(){const t=this.id;console.log(this.subasta);const e=this.precioFin,a=this.idSaleHolder,s=this.paleta,o=this.precioFin*this.peso;console.log("total "+parseInt(this.precioFin)*parseInt(this.peso));const i={idSaleLotCattle:t,precioActual:e,holderActual:a,paleta:s,total:o};console.log(i),this.$socket.emit("guardepuja",i,(t=>{console.log(t)}))},irTablero(){window.open("https://subasta-ganadera.herokuapp.com/#/tablero","_blank")}},created(){}},se=ae,oe=(0,m.Z)(se,te,ee,!1,null,null,null),ie=oe.exports,re=function(){var t=this,e=t._self._c;return e(o.Z,[e(R.Z,{attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(O.Z,{staticClass:"car"},[e(N.EB,{staticClass:"d-flex justify-center"},[e("h2",{staticClass:"red--text",staticStyle:{"text-align":"center"}},[t._v("Informacion de lote")])]),e(St.Z,{staticClass:"mx-2 my-2"}),e(N.ZB,{staticClass:"mt-2"},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-md-h4 text-lg-h4 text-xl-h3",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v("Lote No.")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.lote))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-md-h4 text-lg-h4 text-xl-h3",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v("Clase lote")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.clase))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-md-h5 text-lg-h4 text-xl-h3",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v("Raza")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.raza))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"28px","text-align":"center"}},[t._v("Crias Hembra")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidadH))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v("Crias Macho")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidadM))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v("Peso Total")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.peso))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(Xt.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v("Cantidad")])],1),e(l.Z,{attrs:{cols:"6","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidad))])])],1)],1)],1)],1),e(l.Z,{attrs:{cols:"8"}},[e(O.Z,{staticClass:"car"},[e(N.EB,{staticClass:"mb-7"},[e(U.Z,[e(l.Z,{attrs:{"align-self":"center"}},[e("h1",{staticClass:"my-1 ml-5 red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(" Subasta "+t._s(t.estado)+" ")])])],1)],1),e(N.ZB,[e(U.Z,{staticClass:"my-7"},[e(l.Z,{attrs:{cols:"4"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-sm-h4 text-md-h3 text-lg-h3 text-xl-h2",staticStyle:{"text-align":"center"}},[t._v("Precio Inicial")])],1),e(l.Z,{attrs:{cols:"8"}},[e("h1",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"90px","text-align":"center"}},[t._v(t._s(t.precioInicial))])])],1),e(St.Z,{staticClass:"mx-1 my-0"}),e(U.Z,{staticClass:"my-7"},[e(l.Z,{attrs:{cols:"4"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-sm-h4 text-md-h3 text-lg-h3 text-xl-h2",staticStyle:{"text-align":"center"}},[t._v("Precio Final")])],1),e(l.Z,{attrs:{cols:"8"}},[e("h1",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"90px","text-align":"center"}},[t._v(t._s(t.precioFinal))])])],1),e(St.Z,{staticClass:"mx-1 my-0"}),e(U.Z,{staticClass:"my-7"},[e(l.Z,{staticClass:"ma-0",attrs:{cols:"4"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-sm-h3 text-md-h3 text-lg-h3 text-xl-h2",staticStyle:{"text-align":"center"}},[t._v("Precio Total")])],1),e(l.Z,{staticClass:"ma-0",attrs:{cols:"8","no-gutters":""}},[e("h1",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"90px","text-align":"center"}},[t._v(t._s(t.precioTotal))])])],1),e(St.Z,{staticClass:"mx-1 my-2"}),e(U.Z,[e(l.Z,{attrs:{cols:"2",align:"center"}},[e(M.Z,{attrs:{src:a(6784),height:"100",width:"100"}})],1),e(l.Z,{attrs:{cols:"5","align-self":"center"}},[e(Xt.Z,{staticClass:"font-weight-black black--text text-sm-h4 text-md-h3 text-lg-h3 text-xl-h2",staticStyle:{"text-align":"center"}},[t._v("Numero de paleta")])],1),e(l.Z,{attrs:{cols:"5","align-self":"center"}},[e("h1",{staticClass:"font-weight-black black--text text-sm-h4 text-md-h3 text-lg-h3 text-xl-h2",staticStyle:{"font-size":"80px","text-align":"center"}},[t._v(t._s(t.paleta))])]),e(l.Z,{attrs:{cols:"1"}})],1)],1)],1)],1)],1)],1)],1)},le=[],ne={name:"PageTablero",data(){return{lote:"",cantidad:0,cantidadH:0,cantidadM:0,clase:"",estado:"en Proceso",raza:"",peso:0,precioInicial:0,precioFinal:0,precioTotal:0,holderActual:"",paleta:"",adjudicada:"",p:""}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{t&&(this.lote=t.lotcattle.lot,this.peso=t.lotcattle.weight,this.cantidad=t.lotcattle.quantity,this.cantidadH=t.lotcattle.calffemale,this.cantidadM=t.lotcattle.calfmale,this.clase=t.lotcattle.classcattle,this.raza=t.lotcattle.breed.description,this.precioInicial=t.initialprice,this.precioFinal=t.currentpricekg,this.precioTotal=t.currentprice,this.holderActual=t.currentholder,this.paleta=t.currentconsecutiveholder,console.log(t))}))},disconnect(){this.isConnected=!1,console.log("desconectado")},actualizarprecioinicial(t){this.precioInicial=t.precioInicial,console.log(`Precio Inicial ${t.precioInicial}`)},actualizarpuja(t){this.precioFinal=t.precioActual,this.holderActual=t.holderActual,this.precioTotal=t.total,this.paleta=t.paleta},actualizarsubasta(t){console.log(t),this.estado=t}},methods:{},computed:{},mounted(){}},ce=ne,ue=(0,m.Z)(ce,re,le,!1,null,null,null),de=ue.exports;s.ZP.use(D.ZP);const he=[{path:"/",name:"login",component:ot},{path:"/resetear",name:"resetear",component:Qt},{path:"/home",name:"home",component:ut},{path:"/perfil",name:"perfil",component:Ut},{path:"/holder",name:"holder",component:vt},{path:"/sale",name:"sale",component:wt},{path:"/saleHolder",name:"saleHolder",component:Ot},{path:"/lotCattle",name:"lotCattle",component:Lt},{path:"/saleLotCattle",name:"saleLotCattle",component:ie},{path:"/tablero",name:"tablero",component:de}],me=new D.ZP({routes:he});var pe=me,ge=a(629);s.ZP.use(ge.ZP);var fe=new ge.ZP.Store({state:{token:"",datos:{},subasta:{},lote:{}},mutations:{setToken(t,e){t.token=e},setDatos(t,e){t.datos=e},setSubasta(t,e){t.subasta=e},setLote(t,e){t.lote=e}},actions:{setToken(t,e){t.commit("setToken",e)},setDatos(t,e){t.commit("setDatos",e)},setSubasta(t,e){t.commit("setSubasta",e)},setLote(t,e){t.commit("setLote",e)}}}),be=a(1705);s.ZP.use(be.Z);var ve=new be.Z({}),Ze=a(9367),xe=a(7241),Ce=a.n(xe);s.ZP.config.productionTip=!1;const _e=(0,Ze.ZP)("https://subasta-ganadera.herokuapp.com",{transports:["websocket","polling","flashsocket"]});s.ZP.use(Ce(),_e),Q().defaults.baseURL="https://subasta-ganadera.herokuapp.com/api/",new s.ZP({router:pe,store:fe,vuetify:ve,render:t=>t(H)}).$mount("#app"),pe.beforeEach(((t,e,a)=>{fe.state.token||"/"==t.path||"/resetear"==t.path?a():a("/")}))},2405:function(t,e,a){t.exports=a.p+"img/add-user.99c73965.png"},505:function(t,e,a){t.exports=a.p+"img/informacion.420ef7a3.jpeg"},4552:function(t,e,a){t.exports=a.p+"img/licitacion.825320f7.png"},4246:function(t,e,a){t.exports=a.p+"img/subasta.c355d873.png"},6784:function(t,e,a){t.exports=a.p+"img/subastador2.c854a258.jpeg"},3749:function(t,e,a){t.exports=a.p+"img/ganado 2.1cbf4430.jpeg"}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,i){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],i=t[u][2];for(var l=!0,n=0;n<s.length;n++)(!1&i||r>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[n])}))?s.splice(n--,1):(l=!1,i<r&&(r=i));if(l){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(s,o){if(1&o&&(s=this(s)),8&o)return s;if("object"===typeof s&&s){if(4&o&&s.__esModule)return s;if(16&o&&"function"===typeof s.then)return s}var i=Object.create(null);a.r(i);var r={};t=t||[null,e({}),e([]),e(e)];for(var l=2&o&&s;"object"==typeof l&&!~t.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach((function(t){r[t]=function(){return s[t]}}));return r["default"]=function(){return s},a.d(i,r),i}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{4:"71bbd8ec",120:"a36f689c",856:"301d317f"}[t]+".js"}}(),function(){a.miniCssF=function(t){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="subasta:";a.l=function(s,o,i,r){if(t[s])t[s].push(o);else{var l,n;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==e+i){l=d;break}}l||(n=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",e+i),l.src=s),t[s]=[o];var h=function(e,a){l.onerror=l.onload=null,clearTimeout(m);var o=t[s];if(delete t[s],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),n&&document.head.appendChild(l)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.f.j=function(e,s){var o=a.o(t,e)?t[e]:void 0;if(0!==o)if(o)s.push(o[2]);else{var i=new Promise((function(a,s){o=t[e]=[a,s]}));s.push(o[2]=i);var r=a.p+a.u(e),l=new Error,n=function(s){if(a.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,o[1](l)}};a.l(r,n,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,r=s[0],l=s[1],n=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(n)var u=n(a)}for(e&&e(s);c<r.length;c++)i=r[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},s=self["webpackChunksubasta"]=self["webpackChunksubasta"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5019)}));s=a.O(s)})();
//# sourceMappingURL=app.f3226d33.js.map