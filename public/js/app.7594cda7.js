(function(){"use strict";var t={7304:function(t,e,s){s.d(e,{H:function(){return ns}});var a=s(144),o=s(998),i=function(){var t=this,e=t._self._c;return e(o.Z,[e("Header"),e("router-view"),e("Footer")],1)},r=[],l=s(266),c=s(8271),n=function(){var t=this,e=t._self._c;return""!==t.$store.state.token||""!==t.token&&"/factura"!==this.$router.history.current["path"]&&"/saleLotCattle"!==this.$router.history.current["path"]&&"/tablero"!==this.$router.history.current["path"]&&"/recibido"!==this.$router.history.current["path"]&&"/saleLotCattleRemate"!==this.$router.history.current["path"]&&"/tableroSubasta"!==this.$router.history.current["path"]?e("div",{staticClass:"footer mt-10"},[e(c.Z,{attrs:{app:"",color:"black ",padless:""}},[e(l.Z,{staticClass:"text-center white--text",attrs:{cols:"12"}},[e("strong",[t._v("Subasta Ganadera - ")]),t._v(" "+t._s((new Date).getFullYear())+" ")])],1)],1):t._e()},d=[],u={name:"PageFooter",data(){return{token:localStorage.getItem("token")}}},h=u,m=s(3736),p=(0,m.Z)(h,n,d,!1,null,null,null),g=p.exports,b=s(6232),f=s(5550),Z=s(3423),v=s(4562),C=s(4324),x=s(5808),_=s(4525),k=s(4611),w=s(2866),y=s(7233),S=s(3687),z=s(7953),B=function(){var t=this,e=t._self._c;return""!==t.$store.state.token||""!==t.token&&"/factura"!==this.$router.history.current["path"]&&"/saleLotCattle"!==this.$router.history.current["path"]&&"/tablero"!==this.$router.history.current["path"]&&"/saleLotCattle"!==this.$router.history.current["path"]&&"/recibido"!==this.$router.history.current["path"]&&"/saleLotCattleRemate"!==this.$router.history.current["path"]&&"/tableroSubasta"!==this.$router.history.current["path"]?e("div",{staticClass:"mt-1 mb-5"},[e(b.Z,{attrs:{app:"",flex:"",color:"black",dark:""}},["/lotCattle"!==this.$router.history.current["path"]&&"/reporte"!==this.$router.history.current["path"]?e(f.Z,{on:{click:function(e){t.drawer=!0}}}):t._e(),e(z.qW,[t._v("Subasta Ganadera")]),e(S.Z),e(v.Z,{staticClass:"red outlined",on:{click:function(e){return t.salir()}}},[t._v(" salir "),e(C.Z,[t._v("mdi-door-open")])],1)],1),e(y.Z,{attrs:{temporary:"",absolute:"",color:"black"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(x.Z,[e(_.Z,[e("h1")]),e(_.Z,{staticClass:"d-flex justify-center",attrs:{to:"/perfil"}},[e(Z.Z,{attrs:{color:"yellow",size:"62"}},[e("span",{staticClass:"black--text font-weight-black text-h5"},[t._v(t._s(t.iniciales))])])],1),e(_.Z,{staticClass:"d-flex justify-center white--text mt-4 mb-4"},[e("h3",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.$store.state.datos.name))])]),e(_.Z,{attrs:{to:"/home"}},[e(k.Z,{staticClass:"white--text"},[e(C.Z,{attrs:{color:"white"}},[t._v("mdi-home")])],1),e(w.V9,{staticClass:"white--text"},[t._v("Home")])],1),e(_.Z,{attrs:{to:"/holder"}},[e(k.Z,{staticClass:"white--text"},[e(C.Z,{attrs:{color:"white"}},[t._v("mdi-account")])],1),e(w.V9,{staticClass:"white--text"},[t._v("Holders")])],1),e(_.Z,{attrs:{to:"/breed"}},[e(k.Z,{staticClass:"white--text"},[e(C.Z,{attrs:{color:"white"}},[t._v("mdi-cow")])],1),e(w.V9,{staticClass:"white--text"},[t._v("Razas")])],1),e(_.Z,{attrs:{to:"/sale"}},[e(k.Z,{staticClass:"white--text"},[e(C.Z,{attrs:{color:"white"}},[t._v("mdi-account")])],1),e(w.V9,{staticClass:"white--text"},[t._v("Subasta")])],1)],1)],1)],1):t._e()},I=[],L={name:"PageHeader",data(){return{drawer:!1,group:null,token:localStorage.getItem("token"),data:{}}},methods:{salir(){this.$router.replace("/"),this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),localStorage.setItem("token","")}},computed:{iniciales(){let t=JSON.parse(localStorage.getItem("datos"));return t.name.charAt(0).toUpperCase()}}},P=L,$=(0,m.Z)(P,B,I,!1,null,null,null),E=$.exports,j={name:"App",components:{Footer:g,Header:E},data:()=>({})},A=j,T=(0,m.Z)(A,i,r,!1,null,null,null),N=T.exports,D=s(8345),R=s(9582),F=s(4886),H=s(2118),O=s(4061),q=s(5495),M=s(2933),G=s(3305),U=s(1713),V=s(7508),K=s(7808),W=function(){var t=this,e=t._self._c;return e(H.Z,{staticClass:"mt-16"},[e(U.Z,[e(l.Z,{attrs:{cols:"1"}}),e(l.Z,{attrs:{cols:"10"}},[e(U.Z,[e(l.Z,{staticClass:"pa-0 ma-0",attrs:{cols:"5"}},[e(R.Z,{staticClass:"elevation-6",attrs:{"max-height":"370"}},[e(q.Z,{attrs:{src:s(3749),"max-height":"370"}})],1)],1),e(l.Z,{staticClass:"pa-0 ma-0",attrs:{cols:"7"}},[e(R.Z,{staticClass:"elevation-6",attrs:{"max-height":"370"}},[e(F.EB,{staticClass:"d-flex justify-center"},[e("h3",[t._v("Inicio de Sesion")])]),e(F.ZB,[e(U.Z,{attrs:{align:"center",justify:"center"}},[e(l.Z,{attrs:{cols:"12",sm:"8"}},[e(K.Z,{staticClass:"mt-12",attrs:{label:"Email",outlined:"",dense:"",color:"black"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}}),e(K.Z,{attrs:{label:"Password",outlined:"",dense:"",color:"black",type:"password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),e(U.Z,[e(l.Z,{staticClass:"mb-6",attrs:{cols:"12",sm:"12"}},[e("span",{staticClass:"Subtitle 1 blue--text",on:{click:function(e){return t.recuperarClave()}}},[t._v("Olvido la contraseña?")])])],1),e(v.Z,{staticClass:"black--text mb-7",attrs:{color:"green",dark:"",block:"",tile:""},on:{click:function(e){return t.login()}}},[t._v("Iniciar Sesion ")])],1)],1)],1)],1)],1)],1)],1),e(l.Z,{attrs:{cols:"1"}})],1),e(O.Z,{attrs:{"max-width":"400px",persistent:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(R.Z,[e(F.EB,[t._v(" Selecione su lugar de trabajo ")]),e(F.ZB,[e(V.Z,{attrs:{items:t.lugares,label:"Lugar de trabajo...","item-value":"value"},model:{value:t.lugar,callback:function(e){t.lugar=e},expression:"lugar"}})],1),e(F.h7,[e(v.Z,{attrs:{outlined:"",color:"orange"},on:{click:function(e){return t.ingresarHome()}}},[t._v(" Ingresar ")]),e(S.Z),e(v.Z,{attrs:{color:"red",outlined:""},on:{click:function(e){return t.cerrar()}}},[t._v(" Cerrar ")])],1)],1)],1),e(O.Z,{attrs:{"max-width":"400px"},model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[e(R.Z,[e(F.EB,{staticClass:"black white--text"},[e("span",[t._v("Introduce tu correo electrónico ")]),e("span",[t._v(" para recuperar cuenta")])]),e(F.ZB,[e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{type:"email",label:"Correo"},model:{value:t.recuperar,callback:function(e){t.recuperar=e},expression:"recuperar"}})],1)],1),e(F.h7,[e(S.Z),e(v.Z,{staticClass:"orange",on:{click:function(e){return t.cambioClave()}}},[t._v("Enviar")])],1)],1)],1),e(M.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],1)},J=[],Y=(s(7658),s(9669)),Q=s.n(Y),X=s(6455),tt=s.n(X),et={name:"PageLogin",data(){return{lugares:[],lugar:"",l:"",dialog2:!1,dialog3:!1,overlay:!1,recuperar:"",correo:"",pass:"",show1:!1,errores:""}},methods:{login(){this.overlay=!0,Q().post("holder/login",{email:this.correo,password:this.pass}).then((t=>{console.log(t.data),this.$store.dispatch("setToken",t.data.token),localStorage.setItem("token",t.data.token),this.$store.dispatch("setDatos",t.data.holder),localStorage.setItem("datos",JSON.stringify(t.data.holder)),this.$router.push("/home")})).catch((t=>{console.log(t),console.log(this.correo),console.log(this.pass),tt().fire({title:"<strong>Error en los datos</strong>",icon:"error",html:`<h4>${t.response.data.msg}</h4>`,showCloseButton:!0}),this.overlay=!1,(""===this.correo||""===this.pass)&&tt().fire({title:"<strong>Error en los datos</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},recuperarClave(){this.dialog3=!0},cambioClave(){this.dialog3=!0,Q().post("holder/requestpasswordreset",{email:this.recuperar}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Correo de recuperacion enviado",showConfirmButton:!1,timer:2e3}),this.recuperar=""})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en los datos</strong>",icon:"error",html:`<h4>${t.response.data}</h4>`,showCloseButton:!0})}))},cerrar(){this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),this.$store.commit("setSubasta",""),this.$store.commit("setLote",""),this.dialog2=!1},registrar_usuario(){this.overlay=!0,console.log(this.password),Q().post("https://cat-biblioteca.herokuapp.com/api/holder",{document:this.documento,name:this.nombre,email:this.email,password:this.password,phone:this.telefono,ficha:this.ficha,rol:this.perfil}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.limpiarcajas(),this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},limpiarcajas(){this.nombre="",this.password="",this.documento="",this.telefono="",this.email="",this.perfil="",this.ficha=""}}},st=et,at=(0,m.Z)(st,W,J,!1,null,"66f1a057",null),ot=at.exports,it=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[""!==t.$store.state.token?e(H.Z,{staticClass:"mt-7"},[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(R.Z,{staticClass:"elevation-0"},[e(F.ZB,[e(q.Z,{attrs:{"max-height":"150","max-width":"150",src:s(2405)}})],1),e(F.h7,[e(v.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/holder"}},[t._v(" Agregar Usuario ")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(R.Z,{staticClass:"elevation-0"},[e(F.ZB,[e(q.Z,{attrs:{"max-height":"150","max-width":"150",src:s(3873)}})],1),e(F.h7,[e(v.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/breed"}},[t._v(" Agregar Raza ")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(R.Z,{staticClass:"elevation-0"},[e(F.ZB,[e(q.Z,{attrs:{"max-height":"150","max-width":"150",src:s(4246)}})],1),e(F.h7,[e(v.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/sale"}},[t._v(" Crear Subasta ")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(R.Z,{staticClass:"elevation-0"},[e(F.ZB,[e(q.Z,{attrs:{"max-height":"150","max-width":"150",src:s(505)}})],1),e(F.h7,[e(v.Z,{staticClass:"elevation-0",attrs:{outlined:"",color:"green",to:"/perfil"}},[t._v(" Mis Datos ")])],1)],1)],1)],1)],1):t._e()],1)},rt=[],lt={name:"PageInicio",data(){return{}},methods:{login(){this.$router.replace("/")}},mounted(){}},ct=lt,nt=(0,m.Z)(ct,it,rt,!1,null,null,null),dt=nt.exports,ut=s(4750),ht=s(6313),mt=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[[e(H.Z,{staticClass:"mt-5",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Holders")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(v.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoHolder()}}},[t._v("Nuevo Usuario")])],1)],1)],1)],1),e(ut.Z,{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.holders,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function({item:s}){return["1"===s.state?[e(C.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(s)}}},[t._v(" mdi-account-off")])]:[e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(s)}}},[t._v("mdi-account-check")])],[e(C.Z,{staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.abrir(s)}}},[t._v(" mdi-pencil")])]]}},{key:"item.state",fn:function({item:s}){return["1"===s.state?e("span",{staticClass:"green--text"},[t._v("Activo")]):e("span",{staticClass:"red--text"},[t._v("Inactivo")])]}}],null,!0)})],e(O.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v(t._s(t.titulo))])],1),e(R.Z,[e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),1!=t.bd?e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Direccion"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Ciudad"},model:{value:t.ciudad,callback:function(e){t.ciudad=e},expression:"ciudad"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco1,callback:function(e){t.banco1=e},expression:"banco1"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 1"},model:{value:t.numCuenta1,callback:function(e){t.numCuenta1=e},expression:"numCuenta1"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco2,callback:function(e){t.banco2=e},expression:"banco2"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 2"},model:{value:t.numCuenta2,callback:function(e){t.numCuenta2=e},expression:"numCuenta2"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco3,callback:function(e){t.banco3=e},expression:"banco3"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 3"},model:{value:t.numCuenta3,callback:function(e){t.numCuenta3=e},expression:"numCuenta3"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Nombre completo de referencia"},model:{value:t.referido,callback:function(e){t.referido=e},expression:"referido"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Telefono de referencia"},model:{value:t.telReferido,callback:function(e){t.telReferido=e},expression:"telReferido"}})],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionHolder()}}},[t._v(" Guardar ")])],1)],1)],1),e(M.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],2)},pt=[],gt={name:"PagePersona",data(){return{dialog:!1,overlay:!1,titulo:"Guardar Usuario",id:"",bd:!1,nombre:"",documento:"",telefono:"",direccion:"",correo:"",ciudad:"",referido:"",telReferido:"",banco1:"",banco2:"",banco3:"",numCuenta1:"",numCuenta2:"",numCuenta3:"",encabezados:[{text:"Documento",align:"start",sortable:!1,value:"document"},{text:"Nombre",value:"name"},{text:"Telefono",value:"phone"},{text:"Correo",value:"email"},{text:"Estado",value:"state",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],holders:[]}},methods:{listarHolders(){let t={headers:{"x-token":this.$store.state.token}};Q().get("holder",t).then((t=>{console.log(t),this.holders=t.data.holder})).catch((t=>{console.log(t)}))},nuevoHolder(){this.dialog=!0,this.bd=!1,this.titulo="Guardar Usuario"},accionHolder(){!0===this.bd?(console.log("estoy editando.."),this.editarHolder()):(console.log("estoy agregando.."),this.agregarHolder())},limpiarCajas(){this.telefono="",this.nombre="",this.documento="",this.correo="",this.banco1="",this.banco2="",this.banco3="",this.numCuenta1="",this.numCuenta2="",this.numCuenta3="",this.direccion="",this.ciudad="",this.referido="",this.telReferido=""},abrir(t){console.log(t),this.titulo="Editar Usuario",this.bd=!0,this.dialog=!0,this.id=t._id,console.log(this.id),this.nombre=t.name,this.documento=t.document,this.telefono=t.phone,this.correo=t.email,this.perfil=t.rol,this.ficha=t.ficha,this.banco1=t.banco1,this.banco2=t.banco2,this.banco3=t.banco3,this.numCuenta1=t.banco1numero,this.numCuenta2=t.banco2numero,this.numCuenta3=t.banco3numero,this.ciudad=t.ciudad,this.direccion=t.direccion,this.referido=t.referidopor},editarHolder(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.documento),Q().put(`holder/${this.id}`,{document:this.documento,name:this.nombre,phone:this.telefono,ciudad:this.ciudad,direccion:this.direccion,banco1:this.banco1,banco1numero:this.numCuenta1,banco2:this.banco2,banco2numero:this.numCuenta2,banco3:this.banco3,banco3numero:this.numCuenta3,referidopor:this.referido},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarHolders(),this.limpiarCajas(),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},agregarHolder(){this.overlay=!0,Q().post("holder",{document:this.documento,name:this.nombre,email:this.correo,password:this.documento,phone:this.telefono,ciudad:this.ciudad,direccion:this.direccion,banco1:this.banco1,banco1numero:this.numCuenta1,banco2:this.banco2,banco2numero:this.numCuenta2,banco3:this.banco3,banco3numero:this.numCuenta3,referidopor:this.referido}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.listarHolders(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},editar(t){console.log(t.state),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea cambiar el estado del usuario?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed)if("1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`holder/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarHolders(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`holder/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarHolders(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}}))}},mounted(){this.listarHolders()}},bt=gt,ft=(0,m.Z)(bt,mt,pt,!1,null,null,null),Zt=ft.exports,vt=s(2082),Ct=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[[e(H.Z,{staticClass:"mt-5",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Subastas")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevaSubasta()}}},[t._v("Nueva Subasta")])],1)],1)],1)],1),e(ut.Z,{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.subastas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function({item:s}){return["2"!=s.state?e("div",["1"===s.state?[e(C.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.habilitar(s)}}},[t._v(" mdi-account-off")])]:[e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.habilitar(s)}}},[t._v("mdi-account-check")])],e(vt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(C.Z,t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.editar(s)}}},"v-icon",o,!1),a),[t._v(" mdi-pencil")])]}}],null,!0)},[e("span",[t._v("Editar Subasta")])])],2):t._e()]}},{key:"item.lotes",fn:function({item:s}){return[e(vt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(C.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black"},on:{click:function(e){return t.verLotes(s)}}},"v-icon",o,!1),a),[t._v(" mdi-cow ")])]}}],null,!0)},[e("span",[t._v("Ver lotes")])])]}},{key:"item.terminar",fn:function({item:s}){return["1"==s.state||"3"==s.state?e(vt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(C.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black"},on:{click:function(e){return t.terminarSubasta(s)}}},"v-icon",o,!1),a),[t._v(" mdi-exit-to-app ")])]}}],null,!0)},[e("span",[t._v("Terminar Subasta")])]):t._e()]}},{key:"item.participantes",fn:function({item:a}){return[e(vt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(q.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black",src:s(4552),"max-height":"40","max-width":"40"},on:{click:function(e){return t.verParticipantes(a)}}},"v-img",i,!1),o))]}}],null,!0)},[e("span",[t._v("Ver participantes")])])]}},{key:"item.iniciar",fn:function({item:a}){return[e(vt.Z,{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(q.Z,t._g(t._b({staticClass:"mr-2",attrs:{color:"black",src:s(4246),"max-height":"40","max-width":"40"},on:{click:function(e){return t.verParticipantes(a)}}},"v-img",i,!1),o))]}}],null,!0)},[e("span",[t._v("Iniciar subasta")])])]}},{key:"item.state",fn:function({item:s}){return["1"===s.state?e("span",{staticClass:"green--text"},[t._v("Activo")]):t._e(),"3"===s.state?e("span",{staticClass:"orange--text"},[t._v("En subasta")]):t._e(),"2"===s.state?e("span",{staticClass:"red--text"},[t._v("Subastado")]):t._e(),"0"===s.state?e("span",{staticClass:"red--text"},[t._v("Inactivo")]):t._e()]}},{key:"item.createdAt",fn:function({item:s}){return[e("span",[t._v(" "+t._s(t.fechaSalida(s.createdAt)))])]}}],null,!0)})],e(O.Z,{attrs:{persistent:"","max-width":"300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(R.Z,[e(F.EB,[e("span",{staticClass:"text-h5"},[t._v("Guardar Subasta")])]),e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Tipo de subasta"},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}})],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{attrs:{color:"red",outlined:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(v.Z,{attrs:{color:"green",outlined:""},on:{click:function(e){return t.registrar_sale()}}},[t._v(" "+t._s(t.etiqueta)+" ")])],1)],1)],1),e(M.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],2)},xt=[],_t={name:"PageSubasta",data(){return{overlay:!1,dialog:!1,estado:"Activo",tipo:"",bd:!1,etiqueta:"Guardar",encabezados:[{text:"Numero de subasta",align:"left",sortable:!1,value:"salenumber"},{text:"Tipo de subasta",value:"type"},{text:"Estado",value:"state"},{text:"Creado",value:"createdAt",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1},{text:"Lotes",value:"lotes",sortable:!1},{text:"Participantes",value:"participantes",sortable:!1},{text:"Terminar Subasta",value:"terminar",sortable:!1}],subastas:[]}},methods:{listarSubastas(){console.log(localStorage.getItem("token"));let t={headers:{"x-token":this.$store.state.token}};Q().get("sale",t).then((t=>{console.log(t),this.subastas=t.data.sale})).catch((t=>{console.log(t)}))},nuevaSubasta(){this.dialog=!0,this.etiqueta="Guardar",this.bd=!1},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},editarSale(){let t={headers:{"x-token":this.$store.state.token}};Q().put("sale",{type:this.tipo},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.dialog=!1,this.listarSubastas(),this.limpiarCajas(),this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},guardarSale(){let t={headers:{"x-token":this.$store.state.token}};Q().post("sale",{type:this.tipo},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.dialog=!1,this.limpiarCajas(),this.listarSubastas(),this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},registrar_sale(){this.overlay=!0,!0===this.bd?this.editarSale():this.guardarSale()},editar(t){this.dialog=!0,this.bd=!0,this.etiqueta="Editar",console.log(t)},verLotes(t){console.log(t._id),console.log(t),localStorage.setItem("numSubasta",t.salenumber),localStorage.setItem("subasta",t._id),window.open(`${ns}lotCattle`,"_blank")},verParticipantes(t){console.log(t._id),console.log(t.salenumber),this.$store.dispatch("setSubasta",t),this.$router.push("/saleHolder")},terminarSubasta(t){console.log(t),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed){let e={headers:{"x-token":this.$store.state.token}};Q().put(`sale/cerrarsubasta/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Subasta Cerrada",showConfirmButton:!1,timer:2e3}),this.listarSubastas(),this.$store.state.subasta.state=t.data.sale.state})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.sale}</h4>`,showCloseButton:!0})}))}}))},habilitar(t){if(console.log(t.state),"1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`sale/unactivate/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarSubastas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`sale/activate/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarSubastas()})).catch((t=>{console.log(t)}))}},limpiarCajas(){this.serial="",this.observaciones=""},fechaSalida(t){let e=new Date(t);return this.span=!0,e.toLocaleDateString()+" - "+e.toLocaleTimeString()}},mounted(){this.listarSubastas()}},kt=_t,wt=(0,m.Z)(kt,Ct,xt,!1,null,null,null),yt=wt.exports,St=s(344),zt=s(9223),Bt=s(6072),It=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[e(H.Z,{staticClass:"mb-16"},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Lotes a subastar")])])],1),e(l.Z,{attrs:{cols:"5"}},[e(R.Z,{staticClass:"elevation-0 d-flex justify-end"},[2!==t.$store.state.subasta.state?e(v.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoLote()}}},[t._v("Nuevo lote")]):t._e()],1)],1),e(l.Z,{attrs:{cols:"1"}},[e(R.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(v.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.crearPDF()}}},[e(C.Z,[t._v("mdi-printer")])],1)],1)],1)],1),e(U.Z,t._l(t.lotes,(function(s,a){return e(l.Z,{key:a,attrs:{cols:"4"}},[e(R.Z,{staticClass:"mx-auto",attrs:{"max-width":"300"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(v.Z,{attrs:{color:"indigo","x-small":"",outlined:""},on:{click:function(e){return t.recibido(s)}}},[t._v("Recibido")]),e(S.Z),e(vt.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(C.Z,t._g(t._b({attrs:{color:"orange"},on:{click:function(e){return t.reiniciarSubasta(s)}}},"v-icon",o,!1),a),[t._v("mdi-reload")])]}}],null,!0)},[e("span",[t._v("Reiniciar lote")])])],1),e(F.EB,[t._v(" Subasta No. "+t._s(s.sale.salenumber)+" "),e(S.Z),"0"==s.state||"1"==s.state?["0"==s.state?e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.activarDesactivar(s)}}},[t._v("mdi-eye")]):e(C.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.activarDesactivar(s)}}},[t._v("mdi-eye-off")])]:t._e()],2),e(F.ZB,[e("span",{staticClass:"text-subtitle-1"},[t._v("Ciudad: "+t._s(s.origin))]),e("br"),e("span",{staticClass:"text-subtitle-1"},[t._v("Guia: "+t._s(s.ica))]),e("br"),e("span",{staticClass:"text-subtitle-1"},[t._v("R. Asocebu: "+t._s(s.asocebu))])]),e(zt.Z,{staticClass:"mx-4"}),e(F.EB,[t._v("Lote No. "+t._s(s.lot)+" "),e(S.Z),["0"==s.state?e("span",{staticClass:"red--text",attrs:{text:""}},[t._v("Inactivo")]):t._e(),"1"==s.state?e("span",{staticClass:"green--text",attrs:{text:""}},[t._v("Activo")]):t._e(),"3"==s.state?e("span",{staticClass:"orange--text",attrs:{text:""}},[t._v("En proceso ")]):t._e(),"2"==s.state?e("span",{staticClass:"red--text",attrs:{text:""}},[t._v(" Terminado ")]):t._e()]],2),e(F.h7,[["1"==s.state||"3"==s.state?e(v.Z,{attrs:{color:"green",outlined:""},on:{click:function(e){return t.subastar(s)}}},[t._v(" Subastar ")]):t._e(),"1"==s.state||"3"==s.state?e(v.Z,{attrs:{color:"green",outlined:""},on:{click:function(e){return t.rematar(s)}}},[t._v(" Rematar ")]):t._e(),"2"==s.state?e(C.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.reporte(s)}}},[t._v("mdi-file-pdf-box")]):t._e()],e(S.Z),"1"==s.state||"3"==s.state?e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(s)}}},[t._v("mdi-pencil ")]):t._e(),"2"==s.state?e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.imprimir(s)}}},[t._v("mdi-printer")]):t._e()],2)],1)],1)})),1)],1),e(O.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v(t._s(t.titulo))])],1),e(R.Z,[e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"10"}},[e(St.Z,{attrs:{label:"Proveedor...",items:t.holders,"item-value":"value"},model:{value:t.proveedor,callback:function(e){t.proveedor=e},expression:"proveedor"}})],1),e(l.Z,{attrs:{cols:"12",sm:"2","align-self":"center"}},[e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.abrirHolder()}}},[e(C.Z,[t._v("mdi-account-plus")])],1)],1),!1===t.bd?e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Subasta",disabled:""},model:{value:t.subasta,callback:function(e){t.subasta=e},expression:"subasta"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Origen"},model:{value:t.origen,callback:function(e){t.origen=e},expression:"origen"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Nombre de la ganaderia"},model:{value:t.ganaderia,callback:function(e){t.ganaderia=e},expression:"ganaderia"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Clase de ganado"},model:{value:t.clase,callback:function(e){t.clase=e},expression:"clase"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Cantidad",type:"number",value:"0"},model:{value:t.cantidad,callback:function(e){t.cantidad=e},expression:"cantidad"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Peso",type:"number",value:"0"},model:{value:t.peso,callback:function(e){t.peso=e},expression:"peso"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Crias Hembra",type:"number",value:"0"},model:{value:t.criasH,callback:function(e){t.criasH=e},expression:"criasH"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Crias Macho",type:"number",value:"0"},model:{value:t.criasM,callback:function(e){t.criasM=e},expression:"criasM"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Registro Asocebu"},model:{value:t.asocebu,callback:function(e){t.asocebu=e},expression:"asocebu"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"Guia ICA"},model:{value:t.ica,callback:function(e){t.ica=e},expression:"ica"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(Bt.Z,{attrs:{label:"Observaciones"},model:{value:t.observaciones,callback:function(e){t.observaciones=e},expression:"observaciones"}})],1),e(l.Z,{attrs:{cols:"12",sm:"10"}},[e(St.Z,{attrs:{label:"Razas...",items:t.razas,"item-value":"value"},model:{value:t.raza,callback:function(e){t.raza=e},expression:"raza"}})],1),e(l.Z,{attrs:{cols:"2","align-self":"center"}},[e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.abrirRaza()}}},[e(q.Z,{attrs:{src:s(3873),height:"40px",width:"40px"}})],1)],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(v.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionLote()}}},[t._v(" "+t._s(t.etiqueta)+" ")])],1)],1)],1),e(O.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog2()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v("Guardar Raza")])],1),e(R.Z,[e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Descripcion",type:"text"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog2()}}},[t._v(" Cerrar ")]),e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.agregarRaza()}}},[t._v(" Guardar ")])],1)],1)],1),e(O.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog3()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v(t._s(t.titulo))])],1),e(R.Z,[e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),1!=t.bd?e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Direccion"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Ciudad"},model:{value:t.ciudad,callback:function(e){t.ciudad=e},expression:"ciudad"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco1,callback:function(e){t.banco1=e},expression:"banco1"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 1"},model:{value:t.numCuenta1,callback:function(e){t.numCuenta1=e},expression:"numCuenta1"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco2,callback:function(e){t.banco2=e},expression:"banco2"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 2"},model:{value:t.numCuenta2,callback:function(e){t.numCuenta2=e},expression:"numCuenta2"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco3,callback:function(e){t.banco3=e},expression:"banco3"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 3"},model:{value:t.numCuenta3,callback:function(e){t.numCuenta3=e},expression:"numCuenta3"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Nombre completo de referencia"},model:{value:t.referido,callback:function(e){t.referido=e},expression:"referido"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Telefono de referencia"},model:{value:t.telReferido,callback:function(e){t.telReferido=e},expression:"telReferido"}})],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog3()}}},[t._v(" Cerrar ")]),e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.agregarHolder()}}},[t._v(" Guardar ")])],1)],1)],1)],1)},Lt=[],Pt=s(8519),$t=(s(8159),{name:"LotCattle",data(){return{bd2:null,dialog:!1,dialog2:!1,dialog3:!1,bd:!1,titulo:"Guardar Usuario",etiqueta:"Gurdar",subasta:localStorage.getItem("numSubasta"),idSubasta:localStorage.getItem("subasta"),idLote:"",proveedor:"",origen:"",cantidad:0,clase:"",peso:0,criasM:0,criasH:0,raza:"",ica:"",lotes:[],lotesPuja:[],holders:[],nombre:"",documento:"",telefono:"",correo:"",direccion:"",ciudad:"",referido:"",telReferido:"",banco1:"",banco2:"",banco3:"",numCuenta1:"",numCuenta2:"",numCuenta3:"",asocebu:"",ganaderia:"",observaciones:"",razas:[],descripcion:"",subastas:[],conec:this.$store.state.conectado}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{console.log(t),this.bd2=t.salestate}))},actualizarestado(t){this.lotes=t}},methods:{listarLotes(){console.log(this.idSubasta);let t={headers:{"x-token":localStorage.getItem("token")}};Q().get(`lotcattle/subasta/${this.idSubasta}`,t).then((t=>{console.log(t),this.lotes=t.data.cattleLot,this.$store.state.subasta.state=t.data.cattleLot.sale.state})).catch((t=>{console.log(t)}))},listarLotesPuja(){let t={headers:{"x-token":localStorage.getItem("token")}};Q().get(`lotcattle/puja/${this.idSubasta}`,t).then((t=>{console.log(t),this.lotesPuja=t.data.cattleLot,this.bd2=t.data.cattleLot.salestate})).catch((t=>{console.log(t)}))},abrirHolder(){this.dialog3=!0},agregarHolder(){let t={headers:{"x-token":localStorage.getItem("token")}};this.overlay=!0,Q().post("holder",{document:this.documento,name:this.nombre,email:this.correo,password:this.documento,phone:this.telefono,ciudad:this.ciudad,direccion:this.direccion,banco1:this.banco1,banco1numero:this.numCuenta1,banco2:this.banco2,banco2numero:this.numCuenta2,banco3:this.banco3,banco3numero:this.numCuenta3,referidopor:this.referido},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.listarProveedores(),this.limpiarCajas3()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},listarProveedores(){let t={headers:{"x-token":localStorage.getItem("token")}};Q().get("holder",t).then((t=>{console.log(t),t.data.holder.forEach((t=>{this.holders.push({text:" documento: "+t.document+" - "+t.name,value:t._id})}))})).catch((t=>{console.log(t)}))},abrirRaza(){this.dialog2=!0},agregarRaza(){this.overlay=!0;let t={headers:{"x-token":localStorage.getItem("token")}};Q().post("breed",{description:this.descripcion},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.listarRazas(),this.limpiarCajas2()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},listarRazas(){let t={headers:{"x-token":localStorage.getItem("token")}};Q().get("breed",t).then((t=>{console.log(t),t.data.breed.forEach((t=>{this.razas.push({text:t.description,value:t._id})}))})).catch((t=>{console.log(t)}))},subastar(t){localStorage.setItem("tipo","subasta"),localStorage.setItem("lote",t._id),localStorage.setItem("subasta",t.sale._id),console.log(t.state);let e={headers:{"x-token":localStorage.getItem("token")}};Q().put(`lotcattle/subastar/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Subasta activa",showConfirmButton:!1,timer:2e3}),this.listarLotes(),console.log(this.bd2),window.open(`${ns}saleLotCattle`,"_blank")})).catch((t=>{console.log(t),tt().fire({title:"<strong>Subasta rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},rematar(t){console.log(t.state),localStorage.setItem("tipo","remate"),localStorage.setItem("lote",t._id),localStorage.setItem("subasta",t.sale._id);let e={headers:{"x-token":localStorage.getItem("token")}};Q().put(`lotcattle/rematar/${t._id}`,{},e).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Subasta activa",showConfirmButton:!1,timer:2e3}),this.listarLotes(),window.open(`${ns}saleLotCattleRemate`,"_blank")})).catch((t=>{console.log(t),tt().fire({title:"<strong>Subasta rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},editar(t){console.log(t),this.dialog=!0,this.bd=!0,this.idLote=t._id,this.etiqueta="Editar",this.titulo="Editar Lote",this.proveedor=t.provider._id,this.origen=t.origin,this.cantidad=t.quantity,this.criasH=t.calffemale,this.criasM=t.calfmale,this.clase=t.classcattle,this.ica=t.ica,this.ganaderia=t.ganaderia,this.asocebu=t.asocebu,this.peso=t.weight,this.raza=t.breed._id,this.observaciones=t.observations},nuevoLote(){this.dialog=!0,this.bd=!1,this.etiqueta="Guardar",this.titulo="Guardar Lote"},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},cerrarDialog2(){this.dialog2=!1,this.limpiarCajas2()},cerrarDialog3(){this.dialog3=!1,this.limpiarCajas2()},activarDesactivar(t){console.log(t._id),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea cambiar el estado del usuario?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed)if("1"===t.state){let e={headers:{"x-token":localStorage.getItem("token")}};Q().put(`lotcattle/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLotes(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}else{let e={headers:{"x-token":localStorage.getItem("token")}};Q().put(`lotcattle/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLotes(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}}))},accionLote(){!0===this.bd?(console.log("estoy editando.."),console.log(this.ganaderia),this.editarLote()):(console.log("estoy agregando.."),this.agregarLote())},editarLote(){let t={headers:{"x-token":localStorage.getItem("token")}};Q().put(`lotcattle/${this.idLote}`,{provider:this.proveedor,origin:this.origen,quantity:this.cantidad,classcattle:this.clase,weight:this.peso,calfmale:this.criasH,calffemale:this.criasM,breed:this.raza,ica:this.ica,asocebu:this.asocebu,ganaderia:this.ganaderia,observations:this.observaciones},t).then((t=>{console.log(t),tt().fire("Ok","Actulizacion exitosa","success"),this.listarLotes(),this.listarLotesPuja(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},agregarLote(){let t={headers:{"x-token":localStorage.getItem("token")}};Q().post("lotcattle",{sale:this.idSubasta,provider:this.proveedor,origin:this.origen,quantity:this.cantidad,classcattle:this.clase,weight:this.peso,calfmale:this.criasH,calffemale:this.criasM,breed:this.raza,ica:this.ica,asocebu:this.asocebu,ganaderia:this.ganaderia,observations:this.observaciones},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarLotes(),this.listarLotesPuja(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},limpiarCajas(){this.proveedor="",this.origen="",this.cantidad="",this.criasH="",this.criasM="",this.clase="",this.raza="",this.ica="",this.peso="",this.ganaderia="",this.asocebu="",this.observaciones=""},limpiarCajas2(){this.descripcion=""},limpiarCajas3(){this.telefono="",this.nombre="",this.documento="",this.correo="",this.banco1="",this.banco2="",this.banco3="",this.numCuenta1="",this.numCuenta3="",this.numCuenta2="",this.direccion="",this.ciudad=""},imprimir(t){console.log(t),localStorage.setItem("datosLote",JSON.stringify(t)),window.open(`${ns}factura`,"_blank")},fechaSalida(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},crearPDF(){var t=[{title:"Lote #",dataKey:"lote"},{title:"Origen",dataKey:"origen"},{title:"Raza",dataKey:"raza"},{title:"Cant",dataKey:"cantidad"},{title:"Clase de Ganado",dataKey:"clase"},{title:"Peso",dataKey:"peso"},{title:"Promedio",dataKey:"pesoProm"},{title:"Fecha llegada",dataKey:"creado"},{title:"H",dataKey:"criasH"},{title:"M",dataKey:"criasM"},{title:"Observaciones de lote",dataKey:"observacion"}],e=[];this.lotesPuja.map((function(t){let s=new Date(t.createdAt),a=s.toLocaleDateString()+" - "+s.toLocaleTimeString();e.push({lote:t.lot,origen:t.origin,raza:t.breed.description,cantidad:t.quantity,criasH:t.calffemale,criasM:t.calfmale,clase:t.classcattle,peso:t.weight,pesoProm:t.weightavg,creado:a,observacion:t.observations})}));var s=new Pt["default"]("P","pt");s.autoTable(t,e,{margin:{top:90,left:30},addPageContent:function(){s.text("SUBASTA GANADERA INVERSIONES DIAZ BLANCO S.A.S",80,30),s.text("NIT 901.277.782-9",220,50),s.text("Lista de lotes",30,70)}}),s.save("Lotes.pdf")},reporte(t){localStorage.setItem("datosReporte",JSON.stringify(t)),window.open(`${ns}reporte`,"_blank")},recibido(t){localStorage.setItem("datosRecibido",JSON.stringify(t)),window.open(`${ns}recibido`,"_blank")},reiniciarSubasta(t){let e=t._id;const s={idLotCattle:e};tt().fire({title:"Esta seguro que desea reiniciar el lote",text:"Se perderan todos los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{t.isConfirmed&&this.$socket.emit("reiniciarsubasta",s,(t=>{console.log(t.lotCattle.state),this.lotes=t.estados}))}))}},mounted(){this.listarLotes(),this.listarProveedores(),this.listarRazas(),this.listarLotesPuja(),this.$socket.on("actualizarestado",(t=>{console.log(t)}))}}),Et=$t,jt=(0,m.Z)(Et,It,Lt,!1,null,null,null),At=jt.exports,Tt=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Participantes de la subasta")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0 d-flex justify-end"},["2"!==t.$store.state.subasta.state?e(v.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoParticipante()}}},[t._v("Nuevo participante")]):t._e()],1)],1)],1),e(U.Z,t._l(t.participantes,(function(s,a){return e(l.Z,{key:a,attrs:{cols:"4"}},[e(R.Z,{staticClass:"elevation-1",attrs:{"max-width":"200"}},[e(F.EB,{staticClass:"d-flex justify-center"},[e(Z.Z,{attrs:{color:"red"}},[e("span",{staticClass:"white--text"},[t._v(t._s(s.consecutiveholder))])])],1),e(F.ZB,[e(U.Z,{staticClass:"mx-0",attrs:{align:"center"}},[e("span",[t._v(t._s(s.holder.name)+" ")])])],1),e(zt.Z,{staticClass:"mx-4"}),e(F.EB,[t._v("Subasta No. "+t._s(s.sale.salenumber)+" "),e(S.Z)],1),e(F.ZB,[["1"==s.state?e("span",{staticClass:"green--text",attrs:{text:""}},[t._v("Activo")]):e("span",{staticClass:"red--text",attrs:{text:""}},[t._v("Subastado")])]],2),e(F.h7,["2"!==t.$store.state.subasta.state?e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.editar(s)}}},[t._v("Editar")]):t._e(),e(S.Z),"2"!==t.$store.state.subasta.state?["0"==s.state?e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(t.l)}}},[t._v("mdi-account-check")]):e(C.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(t.l)}}},[t._v("mdi-account-off")])]:t._e()],2)],1)],1)})),1)],1),e(O.Z,{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v(t._s(t.titulo))])],1),e(R.Z,{},[e(F.ZB,[e(H.Z,[e(U.Z,[!1===t.bd?e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"No. Subasta",disabled:""},model:{value:t.subasta,callback:function(e){t.subasta=e},expression:"subasta"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",sm:"6"}},[e(K.Z,{attrs:{label:"No. Paleta"},model:{value:t.paleta,callback:function(e){t.paleta=e},expression:"paleta"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(St.Z,{attrs:{label:"Participante...",items:t.holders,"item-value":"value"},model:{value:t.proveedor,callback:function(e){t.proveedor=e},expression:"proveedor"}})],1)],1)],1)],1),e(F.h7,[e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoUsuario()}}},[t._v("Agregar usuario")]),e(S.Z),e(v.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(v.Z,{staticClass:"elevation-3",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionParticipante()}}},[t._v(" "+t._s(t.etiqueta)+" ")])],1)],1)],1),e(O.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialogoHolder()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v("Guardar usuario")])],1),e(R.Z,[e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),1!=t.bd?e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1):t._e(),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Direccion"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Ciudad"},model:{value:t.ciudad,callback:function(e){t.ciudad=e},expression:"ciudad"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco1,callback:function(e){t.banco1=e},expression:"banco1"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 1"},model:{value:t.numCuenta1,callback:function(e){t.numCuenta1=e},expression:"numCuenta1"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco2,callback:function(e){t.banco2=e},expression:"banco2"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 2"},model:{value:t.numCuenta2,callback:function(e){t.numCuenta2=e},expression:"numCuenta2"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Banco"},model:{value:t.banco3,callback:function(e){t.banco3=e},expression:"banco3"}})],1),e(l.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(K.Z,{attrs:{label:"Numero de cuenta 3"},model:{value:t.numCuenta3,callback:function(e){t.numCuenta3=e},expression:"numCuenta3"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Nombre completo de referencia"},model:{value:t.referido,callback:function(e){t.referido=e},expression:"referido"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Telefono de referencia"},model:{value:t.telReferido,callback:function(e){t.telReferido=e},expression:"telReferido"}})],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialogoHolder()}}},[t._v(" Cerrar ")]),e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.agregarHolder()}}},[t._v(" Guardar ")])],1)],1)],1)],1)},Nt=[],Dt={name:"LotCattle",data(){return{dialog:!1,bd:!1,titulo:"Guardar Lote",etiqueta:"Guardar",subasta:this.$store.state.subasta.salenumber,idSubasta:this.$store.state.subasta._id,proveedor:"",paleta:null,idSaleHolder:"",lotes:[],holders:[],participantes:[],subastas:[],nombre:"",documento:"",telefono:"",correo:"",direccion:"",ciudad:"",referido:"",telReferido:"",banco1:"",banco2:"",banco3:"",numCuenta1:"",numCuenta2:"",numCuenta3:"",dialog2:!1}},methods:{listarParticipantes(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`saleholder/subasta/${this.$store.state.subasta._id}`,t).then((t=>{console.log(t.data.saleHolder),this.participantes=t.data.saleHolder})).catch((t=>{console.log(t)}))},listarProveedores(){let t={headers:{"x-token":this.$store.state.token}};Q().get("holder",t).then((t=>{console.log(t),t.data.holder.forEach((t=>{this.holders.push({text:" documento: "+t.document+" - "+t.name,value:t._id})}))})).catch((t=>{console.log(t)}))},agregarHolder(){this.overlay=!0,Q().post("holder",{document:this.documento,name:this.nombre,email:this.correo,password:this.documento,phone:this.telefono,ciudad:this.ciudad,direccion:this.direccion,banco1:this.banco1,banco1numero:this.numCuenta1,banco2:this.banco2,banco2numero:this.numCuenta2,banco3:this.banco3,banco3numero:this.numCuenta3,referidopor:this.referido}).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.limpiarCajasHolder(),this.listarProveedores()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},nuevoUsuario(){this.dialog2=!0,this.dialog=!1},cerrarDialogoHolder(){this.dialog2=!1,this.limpiarCajasHolder()},limpiarCajasHolder(){this.telefono="",this.nombre="",this.documento="",this.correo="",this.banco1="",this.banco2="",this.banco3="",this.numCuenta1="",this.numCuenta3="",this.numCuenta2="",this.direccion="",this.ciudad=""},subastar(t){console.log(t),this.$store.dispatch("setLote",t)},editar(t){console.log(t),this.dialog=!0,this.titulo="Editar participante",this.etiqueta="Editar",this.bd=!0,this.proveedor=t.holder._id,this.paleta=t.consecutiveholder,this.idSaleHolder=t._id},nuevoParticipante(){this.dialog=!0,this.titulo="Guardar participante",this.etiqueta="Guardar",this.bd=!1},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},accionParticipante(){!0===this.bd?(console.log(this.idSaleHolder),this.editarPartcipante()):(console.log("estoy agregando.."),this.agregarPartcipante())},agregarPartcipante(){let t={headers:{"x-token":this.$store.state.token}};Q().post("saleholder",{sale:this.idSubasta,holder:this.proveedor,consecutiveholder:this.paleta},t).then((t=>{console.log(t.data),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.limpiarCajas(),this.listarParticipantes(),this.dialog=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},editarPartcipante(){let t={headers:{"x-token":this.$store.state.token}};Q().put(`saleholder/${this.idSaleHolder}`,{holder:this.proveedor,consecutiveholder:this.paleta},t).then((t=>{console.log(t.data),tt().fire({position:"bottom-end",icon:"success",title:"Actualizacion exitosa",showConfirmButton:!1,timer:2e3}),this.limpiarCajas(),this.listarParticipantes(),this.dialog=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},limpiarCajas(){this.proveedor=""}},mounted(){this.listarParticipantes(),this.listarProveedores()}},Rt=Dt,Ft=(0,m.Z)(Rt,Tt,Nt,!1,null,null,null),Ht=Ft.exports,Ot=s(7912),qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-10 mt-16"},[e("div",[e(H.Z,{staticClass:"green cont d-flex justify-center",staticStyle:{height:"200px"}},[e(Z.Z,{staticClass:"ava",attrs:{color:"yellow",size:"150"}},[e("span",{staticClass:"black--text font-weight-black text-h2"},[t._v(t._s(t.iniciales))])])],1),e(H.Z,{staticClass:"d-flex justify-center mb-10"},[e(U.Z,[e(l.Z,{attrs:{cols:"12",sm:"2"}}),e(l.Z,{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"8"}},[e(R.Z,{staticClass:"mt-5 tar black white--text",attrs:{width:"500px",rounded:"xl"}},[e(F.EB),e(F.EB,{staticClass:"d-flex justify-center mt-4"},[t._v(" "+t._s(t.nombre)+" ")]),e(x.Z,{staticClass:"d-flex justify-center"},[e(Ot.Z,[e(_.Z,[e(k.Z,[e(C.Z,[t._v(" mdi-account ")])],1),e(w.km,[e(w.V9,[t._v("Documento: "+t._s(t.documento))])],1)],1),e(_.Z,[e(k.Z,[e(C.Z,[t._v(" mdi-email ")])],1),e(w.V9,[t._v("Correo: "+t._s(t.correo))]),e(w.km)],1),e(_.Z,[e(k.Z,[e(C.Z,[t._v(" mdi-phone ")])],1),e(w.km,[e(w.V9,[t._v("Telefono: "+t._s(t.telefono))])],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{staticClass:"ml-3",attrs:{color:"green",text:""},on:{click:function(e){return t.abrir()}}},[e(C.Z,[t._v("mdi-pencil")]),t._v(" Actualizar Perfil ")],1)],1)],1)],1),e(l.Z,{attrs:{cols:"12",sm:"2"}})],1)],1),e(O.Z,{attrs:{height:"500",width:"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("div",{staticClass:"white",attrs:{align:"center",justify:"center"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v("Registre sus datos")])],1),e(H.Z,[e(U.Z,[e(l.Z,{staticClass:"mt-4",attrs:{cols:"12"}},[e(F.ZB,[e(U.Z,{attrs:{align:"center",justify:"center"}},[e(l.Z,{attrs:{cols:"12",align:"center",justify:"center"}},[e(K.Z,{attrs:{label:"Nombre Completo",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),e(K.Z,{attrs:{label:"Documento",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}}),e(K.Z,{attrs:{label:"Telefono",type:"Number",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1)],1)],1),e(F.h7,[e(v.Z,{staticClass:"green black--text mb-6",on:{click:function(e){return t.editarHolder()}}},[t._v("Actualizar Datos")])],1)],1)],1)],1)],1)])],1),e(M.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],1)},Mt=[],Gt={name:"PagePerfil",data(){return{rolesAdmin:["ADMIN","PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECARIA","BIBLIOTECA","GUARDA","PORTERIA"],rolesBiblioteca:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECARIA","BIBLIOTECA"],rolesPorteria:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","GUARDA","PORTERIA"],roles:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO"],dialog:!1,dialog2:!1,img:"",overlay:!1,nombre:this.$store.state.datos.name,perfil:this.$store.state.datos.rol,documento:this.$store.state.datos.document,ficha:this.$store.state.datos.ficha,correo:this.$store.state.datos.email,telefono:this.$store.state.datos.phone,imagen:this.$store.state.datos.photo}},methods:{login(){this.$router.replace("/")},abrir(){this.dialog=!0},subir(t){this.img=t.target.files[0],console.log(this.img);let e=new FormData;e.append("archivo",this.img);let s={headers:{"x-token":this.$store.state.token}};console.log(e),Q().post(`https://cat-biblioteca.herokuapp.com/api/holder/uploadcloud/${this.$store.state.datos._id}`,e,s).then((t=>{console.log(t.data.url),this.imagen=t.data.url,this.$store.dispatch("setFoto",t.data.url)})).catch((t=>{console.log(t)}))},editarHolder(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.documento),Q().put(`holder/${this.id}`,{document:this.documento,name:this.nombre,phone:this.telefono},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarHolders(),this.limpiarCajas(),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))}},computed:{iniciales(){return this.$store.state.datos.name.charAt(0).toUpperCase()}},mount(){this.llenar_perfil()}},Ut=Gt,Vt=(0,m.Z)(Ut,qt,Mt,!1,null,null,null),Kt=Vt.exports,Wt=function(){var t=this,e=t._self._c;return e("div",[e(H.Z,{staticClass:"mt-16",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"12",md:"4"}}),e(l.Z,{attrs:{cols:"12",md:"4"}},[e(R.Z,[e(F.EB,{staticClass:"black white--text"},[e("span",[t._v("Cambio de contraseña")])]),e(F.ZB,[e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{staticClass:"input-group--focused",attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",type:t.show3?"text":"password",name:"input-10-2",label:"Nueva contraseña"},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.nueva1,callback:function(e){t.nueva1=e},expression:"nueva1"}})],1),e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{staticClass:"input-group--focused",attrs:{name:"input-10-2",label:"Confirmar la nueva contraseña"},model:{value:t.nueva2,callback:function(e){t.nueva2=e},expression:"nueva2"}})],1)],1),e(F.h7,[e(S.Z),e(v.Z,{staticClass:"orange",attrs:{dense:"",elevation:"2"},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1),e(l.Z,{attrs:{cols:"12",md:"4"}})],1)],1)],1)},Jt=[],Yt={name:"ResetearPassword",data(){return{show3:!1,nueva1:"",nueva2:""}},methods:{guardar(){const t=window.location.search;console.log(t);let e=new URLSearchParams(t),s=e.get("token"),a=e.get("id"),o={headers:{"x-token":s}};this.nueva1===this.nueva2?Q().post("holder/passwordreset",{holderId:a,password:this.nueva2},o).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Cambio de contraseña exitoso",showConfirmButton:!1,timer:2e3})})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})})):(tt().fire({title:"<strong>Error en contraseña</strong>",icon:"error",html:"<h4>No coinciden las contraseñas</h4>",showCloseButton:!0}),this.nueva1="",this.nueva2="")}}},Qt=Yt,Xt=(0,m.Z)(Qt,Wt,Jt,!1,null,null,null),te=Xt.exports,ee=s(2016),se=s(2540),ae=function(){var t=this,e=t._self._c;return e(o.Z,[e(H.Z,{attrs:{fluid:""}},[e(U.Z,{staticClass:"mx-1",attrs:{"no-gutters":""}},[e(l.Z,{staticStyle:{"text-align":"center"},attrs:{cols:"12"}},[e(U.Z,[e("h2",{staticClass:"red--text ml-5 mb-4"},[t._v("Datos del lote No. "+t._s(t.lote))]),e(S.Z),e("div",{attrs:{"align-items":"center"}},[3==t.estado?e("h3",{staticClass:"mr-10"},[t._v("En Subasta")]):t._e(),4==t.estado?e("h3",{staticClass:"mr-10"},[t._v("Desierta")]):t._e(),2==t.estado?e("h3",{staticClass:"mr-10"},[t._v("Terminada")]):t._e()])],1)],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Clase de lote: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.clase))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Raza: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.raza))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Crias hembra: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.criasH))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Crias Macho: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.criasM))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Peso total: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.peso))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Peso promedio: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.pesoProm))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Cantidad de reces: "),e("span",{staticClass:"font-weight-black red--text"},[t._v(t._s(t.cantidad))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(" Origen: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.origen))])])])],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(R.Z,{staticClass:"car"},[e(F.EB,[e(U.Z,[e("h2",{staticClass:"my-4 ml-5"},[t._v("Datos de la subasta")]),e(U.Z),e(S.Z),e(v.Z,{staticClass:"my-4 ml-5 mr-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.irTablero()}}},[t._v("Tablero")])],1)],1),e(F.ZB,[e(U.Z,{attrs:{no:"",gutters:""}},[e(l.Z,{attrs:{cols:"12",md:"6"}},[e(se.Z,{staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Precio Base")])],1),e(l.Z,{attrs:{cols:"12",md:"6"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Precio Base",value:"0.0",prefix:"$"},model:{value:t.precioBase,callback:function(e){t.precioBase=e},expression:"precioBase"}})],1),e(l.Z,{attrs:{cols:"12"}},[2!=t.estado&&4!=t.estado?e(v.Z,{attrs:{block:"",outlined:"",color:"green"},on:{click:function(e){return t.precioInicial()}}},[t._v("Establecer")]):t._e()],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(se.Z,{staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Puja")])],1),e(l.Z,{attrs:{cols:"8"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{size:"13",label:"Puja",value:"0.0",prefix:"$","append-outer-icon":"mdi-send"},on:{"click:append-outer":function(e){return t.cambiarPuja()}},model:{value:t.precioFin,callback:function(e){t.precioFin=e},expression:"precioFin"}})],1)],1),e(zt.Z,{staticClass:"mx-4 my-4"}),e(U.Z,[e(l.Z,{attrs:{cols:"5",align:"center"}},[e(q.Z,{attrs:{src:s(6784),height:"100",width:"100"}})],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Numero de paleta",prefix:"#"},model:{value:t.paleta,callback:function(e){t.paleta=e},expression:"paleta"}})],1),e(l.Z,{attrs:{cols:"4","align-self":"center",align:"center"}})],1),e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[2!=t.estado&&4!=t.estado&&1!=t.estado?e(v.Z,{attrs:{block:"",color:"green",outlined:""},on:{click:function(e){return t.adjudicar()}}},[e("span",[t._v("Adjudicar Subasta")])]):t._e()],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[2!=t.estado&&4!=t.estado&&1!=t.estado?e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.subastaDesierta()}}},[e("span",[t._v("Autosubasta")])]):t._e()],1),e(l.Z,{attrs:{cols:"6"}},[2==t.estado||3==t.estado?e(v.Z,{attrs:{outlined:"",color:"orange"},on:{click:function(e){return t.reiniciarSubasta()}}},[e("span",[t._v("Reiniciar Subasta")])]):t._e()],1)],1)],1)],1)],1),e(l.Z,{attrs:{cols:"7"}},[e(U.Z,{staticClass:"fila"},[e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e(U.Z,{staticClass:"d-flex justify-center"},[e("h2",[t._v("Paletera")])])],1),e(l.Z,{attrs:{cols:"12"}},[e(U.Z,t._l(t.participantesFrecuentes.slice(0,5),(function(s,a){return e(l.Z,{key:a,staticClass:"mb-3 fila",attrs:{cols:"2"}},[e(R.Z,{staticClass:"text-center elevation-0"},[e(Z.Z,{attrs:{color:"pink",size:"68"},on:{click:function(e){return t.participante(s)}}},[e("h1",{staticClass:"white--text"},[t._v(t._s(s.consecutiveholder))])])],1)],1)})),1)],1),e(l.Z,{staticClass:"text-center mb-3",attrs:{cols:"12"}},[e(v.Z,{attrs:{block:"",outlined:"",color:"orange"},on:{click:function(e){return t.EliminarPuja()}}},[t._v("Eliminar ultima puja")])],1),t._l(t.participantes,(function(s,a){return e(l.Z,{key:a,staticClass:"mb-3",attrs:{cols:"2"}},[e(R.Z,{staticClass:"text-center elevation-0"},[e(Z.Z,{attrs:{color:"pink",size:"68"},on:{click:function(e){return t.participante(s)}}},[e("h1",{staticClass:"white--text"},[t._v(t._s(s.consecutiveholder))])])],1)],1)}))],2),e(U.Z,t._l(t.pujas,(function(s,a){return e(l.Z,{key:a,attrs:{cols:"6"}},[e(U.Z,{attrs:{no:"",gutters:""}},[e(l.Z,{attrs:{cols:"12",md:"2","align-self":"center"}},[e("h4",{staticStyle:{"text-align":"center"}},[t._v("Item "+t._s(a+1))])]),e(l.Z,{attrs:{cols:"12",md:"4"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Numero de paleta",prefix:"#",disabled:"",value:s.consecutiveholder}})],1),e(l.Z,{attrs:{cols:"12",md:"6"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{value:s.pricekg,label:"Puja",disabled:"",prefix:"$"}})],1)],1)],1)})),1)],1),e(l.Z,{attrs:{cols:"1"}},[e(U.Z,{staticClass:"d-flex justify-center mb-1"},[e("h3",[t._v("Incremento")])]),e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e(ee.Z,{staticStyle:{"flex-direction":"column","justify-content":"center"},attrs:{dense:"","background-color":"white",mandatory:""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"blue",outlined:""},on:{click:function(e){return t.intervaloPrecio(20)}}},[t._v("20")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"blue",outlined:""},on:{click:function(e){return t.intervaloPrecio(50)}}},[t._v("50")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"blue",outlined:""},on:{click:function(e){return t.intervaloPrecio(100)}}},[t._v("100")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"primary",outlined:""},on:{click:function(e){return t.intervaloPrecio(200)}}},[t._v("200")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"primary",outlined:""},on:{click:function(e){return t.intervaloPrecio(500)}}},[t._v("500")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"primary",outlined:""},on:{click:function(e){return t.intervaloPrecio(1e3)}}},[t._v("1.000")])],1)],1)],1)],1)],1)],1)},oe=[],ie={name:"SaleLotCattle",data(){return{precioFin:0,precioTemp:0,tipo:localStorage.getItem("tipo"),toggle_exclusive:0,participantes:[],participantesFrecuentes:[],subasta:"",id:"",idSubasta:"",idSaleHolder:"",lote:"",estado:1,peso:0,pesoProm:0,origen:"",cantidad:0,clase:"",raza:"",criasM:0,criasH:0,precioInicia:0,precioFinal:0,precioTotal:0,holderActual:"",paleta:"",precioBase:0,incremento:20,pujas:[],intervalo:0}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{t&&(this.idSubasta=t,this.id=t._id,this.estado=t.state,this.lote=t.lot,this.peso=t.weight,this.pesoProm=t.weightavg,this.participantes=t.holders.sort(((t,e)=>t.consecutiveholder-e.consecutiveholder)),this.cantidad=t.quantity,this.clase=t.classcattle,this.origen=t.origin,this.raza=t.breed.description,this.criasH=t.calffemale,this.criasM=t.calfmale,this.precioInicia=t.initialprice,this.precioFinal=t.pricekg,this.precioTotal=t.price,this.precioTemp=t.pricekgtemp,this.precioFin=t.pricetoget,this.precioBase=t.initialprice,this.paleta=t.consecutiveholder,console.log(this.paleta),this.participantesFrecuentes=t.bids.filter(((t,e,s)=>e===s.findIndex((e=>e.consecutiveholder===t.consecutiveholder)))),this.pujas=t.bids.reverse(),console.log(t))}))},disconnect(){this.isConnected=!1,console.log("desconectado")}},methods:{participante(t){console.log(t),this.paleta=t.consecutiveholder,this.idSaleHolder=t.holder._id;const e=this.id,s=this.precioFin,a=this.idSaleHolder,o=this.paleta,i=this.precioFin*this.peso,r=this.cantidad,l=this.incremento;console.log("total "+parseInt(this.precioFin)*parseInt(this.peso));const c={idLotCattle:e,precioPuja:s,holderActual:a,paleta:o,total:i,cantidad:r,incremento:l};console.log(c),this.$socket.emit("guardepuja",c,(t=>{console.log(t),this.precioFin=t.pricetoget,this.pujas=t.bids.reverse(),this.precioTemp=t.pricekgtemp,this.participantesFrecuentes=t.bids.filter(((t,e,s)=>e===s.findIndex((e=>e.consecutiveholder===t.consecutiveholder))))}))},adjudicar(){tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{if(t.isConfirmed){const t=this.id,e={idLotCattle:t};this.$socket.emit("adjudiquesubasta",e,(t=>{console.log(t),console.log(t.state),this.estado=t.state})),tt().fire({position:"bottom-end",icon:"success",title:"Subasta terminada",showConfirmButton:!1,timer:2e3})}}))},precioInicial(){console.log(this.idSubasta),console.log(this.precioBase);const t=this.id,e=this.precioBase,s={idLotCattle:t,precioInicial:e};console.log(s),this.$socket.emit("asigneprecioinicial",s,(t=>{console.log(t),this.precioFin=t.pricetoget}))},subastaDesierta(){tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{if(t.isConfirmed){const t=this.id,e={idLotCattle:t};this.$socket.emit("declaresubastadesierta",e,(t=>{console.log(t),this.estado=t.state})),tt().fire({position:"bottom-end",icon:"success",title:"Subasta Desierta",showConfirmButton:!1,timer:2e3})}}))},EliminarPuja(){let t=this.id;const e={idLotCattle:t};this.$socket.emit("elimineultima",e,(t=>{this.pujas=t.bids.reverse()}))},reiniciarSubasta(){console.log(this.id);let t=this.id;const e={idLotCattle:t};tt().fire({title:"Esta seguro que desea terminar la subasta?",text:"Se perderan todos los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{t.isConfirmed&&this.$socket.emit("reiniciarsubasta",e,(t=>{console.log(t.lotCattle.state),this.estado=t.lotCattle.state,window.close()}))}))},irTablero(){window.open(`${ns}tableroSubasta`)},cambiarPuja(){let t=this.id;const e=this.precioFin,s={idLotCattle:t,precioEsperado:e};console.log(s),this.$socket.emit("actualiceprecioesperado",s,(t=>{console.log(t)}))},intervaloPrecio(t){console.log(this.precioFinal),this.incremento=t,this.precioFin=this.precioTemp+t}},computed:{},created(){}},re=ie,le=(0,m.Z)(re,ae,oe,!1,null,"2c8c7ca6",null),ce=le.exports,ne=function(){var t=this,e=t._self._c;return e(o.Z,[e(H.Z,{attrs:{fluid:""}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e("h3",[t._v("SUBASTA GANADERA INVERSIONES DIAZ BLANCO S.A.S")]),e("h3",[t._v("NIT 901.277.782-9")])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(R.Z,{staticClass:"car"},[e(F.EB,{staticClass:"d-flex justify-center"},[e("h2",{staticClass:"red--text",staticStyle:{"text-align":"center"}},[t._v("Informacion de lote")])]),e(zt.Z,{staticClass:"mx-2 my-2"}),e(F.ZB,{staticClass:"mt-2"},[e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Lote No.")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.lote))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Clase lote")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("p",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v(t._s(t.clase))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text text-md-h5",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Raza")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("p",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v(t._s(t.raza))])])],1),0!=t.cantidadH?e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"left"}},[t._v("Crias Hembra")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidadH))])])],1):t._e(),0!=t.cantidadM?e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"left"}},[t._v("Crias Macho")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidadM))])])],1):t._e(),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Peso Total")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.peso))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Cantidad")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidad))])])],1)],1)],1)],1),e(l.Z,{attrs:{cols:"8"}},[e(R.Z,{staticClass:"car"},[e(F.EB,{staticClass:"mb-7"},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{"align-self":"center"}},[e("h1",{staticClass:"mt-1 ml-5 red--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v(" Remate "+t._s(t.textEstado)+" ")])])],1)],1),e(F.ZB,[e(U.Z,{staticClass:"mb-3",attrs:{"no-gutters":"",align:"center"}},[e(l.Z,{attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Precio Base")])],1),e(l.Z,{attrs:{cols:"8"}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.precioInicial)))])])],1),e(zt.Z,{staticClass:"mx-1 my-0"}),e(U.Z,{staticClass:"my-3",attrs:{"no-gutters":"",align:"center"}},[e(l.Z,{attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Puja")])],1),e(l.Z,{attrs:{cols:"8"}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.precioFinal)))])])],1),e(zt.Z,{staticClass:"mx-1 my-0"}),e(U.Z,{staticClass:"my-3",attrs:{align:"center","no-gutters":""}},[e(l.Z,{staticClass:"ma-0",attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Precio por Animal")])],1),e(l.Z,{staticClass:"ma-0",attrs:{cols:"8","no-gutters":""}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(parseInt(t.precioTotal))))])])],1),e(zt.Z,{staticClass:"mx-1 my-2"}),e(U.Z,{staticClass:"my-3",attrs:{align:"center","no-gutters":""}},[e(l.Z,{staticClass:"ma-0",attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Precio Kg")])],1),e(l.Z,{staticClass:"ma-0",attrs:{cols:"8","no-gutters":""}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.preciokg)))])])],1)],1)],1),e(R.Z,{staticClass:"car mt-3"},t._l(t.pujas,(function(s,a){return e(U.Z,{key:a,staticClass:"ml-3 mt-2",attrs:{align:"center"}},[e(l.Z,{attrs:{cols:"2"}},[e("span",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px"}},[t._v("# "+t._s(s.consecutiveholder))])]),e(l.Z,{attrs:{cols:"3"}},[e("span",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px"}},[t._v("Puja $ "+t._s(Intl.NumberFormat("de-DE").format(s.totalprice)))])]),e(l.Z,{attrs:{cols:"5"}},[e("span",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px"}},[t._v(" Precio Animal $ "+t._s(Intl.NumberFormat("de-DE").format(parseInt(s.valueperanimal)))+" ")])]),e(l.Z,{attrs:{cols:"2"}},[e("span",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px"}},[t._v(" Kg $ "+t._s(Intl.NumberFormat("de-DE").format(parseInt(s.pricekg)))+" ")])])],1)})),1)],1)],1)],1)],1)},de=[],ue={name:"PageTablero",data(){return{lote:"",cantidad:0,cantidadH:0,cantidadM:0,clase:"",estado:0,textEstado:"",raza:"",peso:0,precioInicial:0,precioFinal:0,precioTotal:0,preciokg:0,holderActual:"",paleta:"",adjudicada:"",pujas:[],p:""}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{t&&(this.idSubasta=t,this.id=t._id,console.log(t._id),console.log(this.id),this.estado=t.state,console.log(t.salestate),2==this.estado?(console.log(this.estado),this.textEstado="Terminado"):3==this.estado?(console.log(this.estado),this.textEstado="en Proceso"):"Terminado Desierto"==t.salestate&&(this.textEstado="Desierto"),console.log(this.estado),this.lote=t.lot,this.peso=t.weight,console.log(this.peso),this.pesoProm=t.weightavg,this.participantes=t.holders,this.cantidad=t.quantity,this.clase=t.classcattle,this.origen=t.origin,this.raza=t.breed.description,this.criasH=t.calffemale,this.criasM=t.calfmale,this.precioInicial=t.initialprice,this.precioFinal=t.pricekg,this.precioTotal=t.totalprice,this.paleta=t.consecutiveholder,this.pujas=t.bids.reverse(),this.precioInicial=t.initialprice,this.precioFinal=t.pricetoget,this.precioTotal=parseInt(t.pricetoget/t.quantity),this.preciokg=parseInt(t.pricetoget/t.weight),console.log(t))}))},disconnect(){this.isConnected=!1,console.log("desconectado")},actualizarprecioinicial(t){this.precioInicial=t.initialprice,console.log(`Precio Inicial ${t.initialprice}`)},actualizarpuja(t){console.log(t),this.precioFinal=t.precioActual,this.holderActual=t.holderActual,this.precioTotal=t.total,this.paleta=t.paleta,this.precioInicial=t.initialprice,this.precioFinal=t.pricetoget,this.precioTotal=t.pricetoget/t.quantity,this.preciokg=parseInt(t.pricetoget/t.weight),this.pujas=t.bids.reverse()},actualizarsubasta(t){console.log(t),this.estado=t.state,console.log(t.state),this.precioInicial=t.initialprice,this.precioFinal=t.pricetoget,this.precioTotal=t.pricetoget/t.quantity,this.preciokg=parseInt(t.pricetoget/t.weight),2==this.estado?this.textEstado="Terminado":3==this.estado?this.textEstado="en Proceso":"Terminado Desierto"==t.salestate&&(this.textEstado="Desierto")},vernuevasubasta(t){t&&(this.lote=t.lotcattle.lot,this.peso=t.lotcattle.weight,this.cantidad=t.lotcattle.quantity,this.cantidadH=t.lotcattle.calffemale,this.cantidadM=t.lotcattle.calfmale,this.clase=t.lotcattle.classcattle,this.raza=t.lotcattle.breed.description,this.precioInicial=t.initialprice,this.precioFinal=t.currentpricekg,this.precioTotal=t.currentprice,this.holderActual=t.currentholder,this.paleta=t.currentconsecutiveholder,console.log(t))}},methods:{},computed:{},mounted(){}},he=ue,me=(0,m.Z)(he,ne,de,!1,null,"4f0e45e8",null),pe=me.exports,ge=function(){var t=this,e=t._self._c;return e(H.Z,{staticClass:"mt-4"},[e(U.Z,{staticClass:"fila"},[e(l.Z,{attrs:{cols:"2",align:"center"}},[e(q.Z,{attrs:{src:s(9218)}})],1),e(l.Z,{staticClass:"text-center",attrs:{cols:"10"}},[e("h1",[t._v("Factura Proforma")]),e("h3",[t._v("SUBASTA GANADERA INVERSIONES DIAZ BLANCO S.A.S")]),e("h3",[t._v("NIT 901.277.782-9")])])],1),e(U.Z,{staticClass:"fila mt-10"},[e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Cliente")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.name))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Direccion")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.direccion))])])],1),e(U.Z,{staticClass:"mb-3",attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Ciudad")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.ciudad))])])],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Correo")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.email))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Identificacion")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.document))])])],1),e(U.Z,{staticClass:"mb-3",attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Telefono")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.phone))])])],1)],1)],1),e(U.Z,{staticClass:"fila mt-5"},[e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Subasta")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.sale.salenumber))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Ciudad")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v("Oiba")])])],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Tipo de Subasta")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.sale.type))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("No. de Paleta")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.consecutiveholder))])])],1)],1)],1),e(U.Z,{staticClass:"fila mt-5"},[e(l.Z,{attrs:{cols:"5"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Lote No.")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.lot))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Procedencia")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.origin))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Peso total lote")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.weight))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Peso promedio")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.weightavg))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Registro Asocebu")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.asocebu))])])],1)],1),e(l.Z,{attrs:{cols:"7"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Cantidad")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.quantity))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Crias")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.calfmale+t.datosLote.calffemale))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Genero")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.classcattle))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Precio base")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.initialprice))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Precio final")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.totalprice))])])],1)],1)],1),e(U.Z,{staticClass:"my-5"},[e(l.Z,{staticClass:"fila text-center",attrs:{cols:"9"}},[e("label",{staticClass:"font-weight-black"},[t._v("Total a facturar")])]),e(l.Z,{staticClass:"fila",attrs:{cols:"3"}},[e("h3",[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.datosLote.totalprice)))])])],1),e(U.Z,{staticClass:"mt-16",attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"6"}},[e("h4",{staticClass:"eti mr-16"}),e("label",{staticClass:"font-weight-black"},[t._v(t._s(t.datosLote.awarded.name))]),e("br"),e("label",{staticClass:"font-weight-black"},[t._v("C.C. No. "+t._s(t.datosLote.awarded.document))])]),e(l.Z,{attrs:{cols:"6"}})],1)],1)},be=[],fe={name:"PageFactura",data(){return{datosLote:"",idLote:""}},methods:{lote(){this.datosLote=JSON.parse(localStorage.getItem("datosLote")),this.idLote=this.datosLote._id,console.log(this.datosLote)},listarSaleLotCattle(){let t={headers:{"x-token":localStorage.getItem("token")}};Q().get(`lotcattle/${this.idLote}`,t).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))}},created(){this.lote(),this.listarSaleLotCattle()}},Ze=fe,ve=(0,m.Z)(Ze,ge,be,!1,null,"7bdacb2c",null),Ce=ve.exports,xe=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[[e(H.Z,{staticClass:"mt-5",attrs:{fluid:""}},[e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0"},[e("h2",[t._v("Razas")])])],1),e(l.Z,{attrs:{cols:"6"}},[e(R.Z,{staticClass:"elevation-0 d-flex justify-end"},[e(v.Z,{staticClass:"elevation-5",attrs:{outlined:"",color:"green"},on:{click:function(e){return t.nuevoHolder()}}},[t._v("Nueva Raza")])],1)],1)],1)],1),e(ut.Z,{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.breed,"items-per-page":20},scopedSlots:t._u([{key:"item.createdAt",fn:function({item:s}){return[e("span",[t._v(t._s(t.fecha(s.createdAt)))])]}},{key:"item.opciones",fn:function({item:s}){return["1"==s.state?[e(C.Z,{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(s)}}},[t._v(" mdi-account-off")])]:[e(C.Z,{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(s)}}},[t._v("mdi-account-check")])],[e(C.Z,{staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.abrir(s)}}},[t._v(" mdi-pencil")])]]}},{key:"item.state",fn:function({item:s}){return["1"===s.state?e("span",{staticClass:"green--text"},[t._v("Activo")]):e("span",{staticClass:"red--text"},[t._v("Inactivo")])]}}],null,!0)})],e(O.Z,{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(ht.Z,{attrs:{dark:"",color:"green"}},[e(v.Z,{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[e(C.Z,[t._v("mdi-close")])],1),e(z.qW,[t._v(t._s(t.titulo))])],1),e(R.Z,[e(F.ZB,[e(H.Z,[e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[e(K.Z,{attrs:{label:"Descripcion",type:"text"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1),e(F.h7,[e(S.Z),e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),e(v.Z,{attrs:{outlined:"",color:"green"},on:{click:function(e){return t.accionRaza()}}},[t._v(" Guardar ")])],1)],1)],1),e(M.Z,{attrs:{value:t.overlay}},[e(G.Z,{attrs:{indeterminate:"",size:"64"}})],1)],2)},_e=[],ke={name:"PageBreed",data(){return{dialog:!1,overlay:!1,titulo:"Guardar Raza",id:"",bd:!1,descripcion:"",encabezados:[{text:"Descripcion",align:"start",sortable:!1,value:"description"},{text:"Creada",value:"createdAt"},{text:"Estado",value:"state",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],breed:[]}},methods:{listarBreed(){let t={headers:{"x-token":this.$store.state.token}};Q().get("breed",t).then((t=>{console.log(t),this.breed=t.data.breed})).catch((t=>{console.log(t)}))},nuevoHolder(){this.dialog=!0,this.bd=!1,this.titulo="Guardar Holder"},accionRaza(){!0===this.bd?(console.log("estoy editando.."),this.editarRaza()):(console.log("estoy agregando.."),this.agregarRaza())},limpiarCajas(){this.descripcion=""},abrir(t){console.log(t),this.titulo="Editar Raza",this.bd=!0,this.dialog=!0,this.id=t._id,this.descripcion=t.description,console.log(this.descripcion)},editarRaza(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.documento),Q().put(`breed/${this.id}`,{document:this.documento,name:this.nombre,phone:this.telefono},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarBreed(),this.limpiarCajas(),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),tt().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},agregarRaza(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};Q().post("breed",{description:this.descripcion},t).then((t=>{console.log(t),tt().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.listarBreed(),this.limpiarCajas()})).catch((t=>{console.log(t),tt().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},fecha(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},editar(t){console.log(t.state),tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea cambiar el estado del usuario?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((e=>{if(e.isConfirmed)if("1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`breed/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarBreed(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`breed/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarBreed(),tt().fire("Ok","El usuario ha cambiado de estado","success")})).catch((t=>{console.log(t.response),tt().fire("Error","No se pudo cambiar el estado","error")}))}}))}},mounted(){this.listarBreed()}},we=ke,ye=(0,m.Z)(we,xe,_e,!1,null,null,null),Se=ye.exports,ze=s(9449),Be=function(){var t=this,e=t._self._c;return e(H.Z,{staticClass:"mt-16"},[e(U.Z,{},[e(l.Z,{attrs:{cols:"2",align:"center"}},[e(q.Z,{attrs:{src:s(9218)}})],1),e(l.Z,{staticClass:"text-center",attrs:{cols:"10","align-self":"center"}},[e("h3",[t._v("SUBASTA GANADERA INVERSIONES DIAZ BLANCO S.A.S")]),e("h3",[t._v("NIT 901.277.782-9")])])],1),e(U.Z,{staticClass:"fila mt-10"},[e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Cliente")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.name))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Direccion")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.direccion))])])],1),e(U.Z,{staticClass:"mb-3",attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Ciudad")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.ciudad))])])],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Correo")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.email))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Identificacion")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.document))])])],1),e(U.Z,{staticClass:"mb-3",attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Telefono")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.awarded.phone))])])],1)],1)],1),e(U.Z,{staticClass:"fila mt-5"},[e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Subasta")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.sale.salenumber))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Ciudad")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v("Oiba")])])],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Tipo de Subasta")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.sale.type))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("No. de Paleta")])]),e(l.Z,{attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.consecutiveholder))])])],1)],1)],1),e(U.Z,{staticClass:"fila mt-5"},[e(l.Z,{attrs:{cols:"5"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Lote No.")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.lot))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Procedencia")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.origin))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Peso total lote")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.weight))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Peso promedio")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.weightavg))])])],1)],1),e(l.Z,{attrs:{cols:"7"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"5"}},[e("label",{staticClass:"font-weight-black"},[t._v("Cantidad")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"7"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.quantity))])])],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{staticClass:"text-center",attrs:{cols:"5"}},[e("label",{staticClass:"font-weight-black"},[t._v("Crias")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"7"}},[e("h4",{staticClass:"mx-2"},[t._v(" "+t._s(t.datosLote.calfmale+t.datosLote.calffemale)+" ")])])],1)],1)],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Genero")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.classcattle))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Precio base")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.initialprice))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Precio final")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.totalprice))])])],1)],1)],1),e(U.Z,{staticClass:"my-10 d-flex justify-center fila"},[e(l.Z,{attrs:{cols:"12"}},[e(U.Z,{staticClass:"d-flex justify-center"},[e("h2",{},[t._v("Listado pujas")])]),e(U.Z,{staticClass:"my-4 d-flex justify-center"},[e(ze.Z,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("Nro.Puja")]),e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("Nombre")]),e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("Documento")]),e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("Correo")]),e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("Telefono")]),e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("No. paleta")]),e("th",{staticClass:"text-left font-weight-black black--text"},[t._v("Precio de puja")])])]),e("tbody",t._l(t.pujas,(function(s,a){return e("tr",{key:a},[e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(a))]),e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(s.holder.name))]),e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(s.holder.document))]),e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(s.holder.email))]),e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(s.holder.phone))]),e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(s.consecutiveholder))]),e("td",{staticClass:"font-weight-black black--text"},[t._v(t._s(1==t.tipo?s.pricekg:s.totalprice))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)},Ie=[],Le={name:"PageReporte",data(){return{idLote:"",pujas:[],tipo:0}},methods:{lote(){this.datosLote=JSON.parse(localStorage.getItem("datosReporte")),this.tipo=this.datosLote.saletype,console.log(this.tipo),this.idLote=this.datosLote._id,this.pujas=this.datosLote.bids,console.log(this.datosLote)}},created(){this.lote()}},Pe=Le,$e=(0,m.Z)(Pe,Be,Ie,!1,null,"565020e3",null),Ee=$e.exports,je=function(){var t=this,e=t._self._c;return e(H.Z,{staticClass:"mt-10"},[e(U.Z,{staticClass:"fila"},[e(l.Z,{attrs:{cols:"2",align:"center"}},[e(q.Z,{attrs:{src:s(9218)}})],1),e(l.Z,{staticClass:"text-center",attrs:{cols:"10","align-self":"center"}},[e("h3",[t._v("SUBASTA GANADERA INVERSIONES DIAZ BLANCO S.A.S")]),e("h3",[t._v("NIT 901.277.782-9")])])],1),e(U.Z,{staticClass:"fila my-16"},[e(l.Z,{attrs:{cols:"5"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Lote No.")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.lot))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Nombre Proveedor")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.provider.name))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Doc Proveedor")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.provider.document))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Telefono")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.provider.phone))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Procedencia")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.origin))])])],1)],1),e(l.Z,{attrs:{cols:"7"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Peso total lote")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.weight))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Peso promedio")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.weightavg))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"5"}},[e("label",{staticClass:"font-weight-black"},[t._v("Cantidad")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"7"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.quantity))])])],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{staticClass:"text-center",attrs:{cols:"5"}},[e("label",{staticClass:"font-weight-black"},[t._v("Crias")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"7"}},[e("h4",{staticClass:"mx-2"},[t._v(" "+t._s(t.datosLote.calfmale+t.datosLote.calffemale)+" ")])])],1)],1)],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Genero")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.classcattle))])])],1),e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"4"}},[e("label",{staticClass:"font-weight-black"},[t._v("Registro Asocebu")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"8"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.asocebu))])])],1)],1),e(l.Z,{attrs:{cols:"12 mb-5 "}},[e(U.Z,[e(l.Z,{attrs:{cols:"2"}},[e("label",{staticClass:"font-weight-black"},[t._v("Observaciones")])]),e(l.Z,{staticClass:"eti",attrs:{cols:"9"}},[e("h4",{staticClass:"mx-2"},[t._v(t._s(t.datosLote.observations))])])],1)],1)],1),e(U.Z,{staticClass:"mt-16",attrs:{"no-gutters":""}},[e(l.Z,{attrs:{cols:"6"}},[e("h4",{staticClass:"eti mr-16"}),e("label",{staticClass:"font-weight-black"},[t._v("Firma de quien recibe")]),e("br"),e("label",{staticClass:"font-weight-black"},[t._v("C.C. No. ")])]),e(l.Z,{attrs:{cols:"6"}})],1)],1)},Ae=[],Te={name:"PageRecibido",data(){return{datosLote:"",idLote:""}},methods:{lote(){this.datosLote=JSON.parse(localStorage.getItem("datosRecibido")),this.idLote=this.datosLote._id,console.log(this.datosLote)}},created(){this.lote()}},Ne=Te,De=(0,m.Z)(Ne,je,Ae,!1,null,"068c1d38",null),Re=De.exports,Fe=function(){var t=this,e=t._self._c;return e(o.Z,[e(H.Z,{attrs:{fluid:""}},[e(U.Z,{staticClass:"mx-1",attrs:{"no-gutters":""}},[e(l.Z,{staticStyle:{"text-align":"center"},attrs:{cols:"12"}},[e(U.Z,{attrs:{"no-gutters":""}},[e("h3",{staticClass:"red--text ml-3 mb-4"},[t._v("Datos del lote No. "+t._s(t.lote))]),e(S.Z),e("div",{attrs:{"align-items":"center"}},[3==t.estado?e("h3",{staticClass:"mr-10"},[t._v("En Remate")]):t._e(),4==t.estado?e("h3",{staticClass:"mr-10"},[t._v("Desierto")]):t._e(),2==t.estado?e("h3",{staticClass:"mr-10"},[t._v("Terminado")]):t._e()])],1)],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Clase de lote: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.clase))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Raza: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.raza))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Crias hembra: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.criasH))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Crias Macho: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.criasM))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Peso total: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.peso))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Peso promedio: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.pesoProm))])])])],1),e(l.Z,{attrs:{cols:"3"}},[e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Cantidad de reces: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.cantidad))])])]),e(U.Z,{staticClass:"mx-2"},[e("p",{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"16px","text-align":"center"}},[t._v(" Origen: "),e("span",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.origen))])])])],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(R.Z,{staticClass:"car"},[e(F.EB,[e(U.Z,[e("h2",{staticClass:"my-4 ml-5"},[t._v("Datos del Remate")]),e(U.Z),e(S.Z),e(v.Z,{staticClass:"my-4 ml-5 mr-3",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.irTablero()}}},[t._v("Tablero")])],1)],1),e(F.ZB,[e(U.Z,{attrs:{no:"",gutters:""}},[e(l.Z,{attrs:{cols:"12",md:"6"}},[e(se.Z,{staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Precio Base")])],1),e(l.Z,{attrs:{cols:"12",md:"6"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Precio Base",value:"0.0",prefix:"$"},model:{value:t.precioBase,callback:function(e){t.precioBase=e},expression:"precioBase"}})],1),e(l.Z,{attrs:{cols:"12"}},[2!=t.estado&&4!=t.estado?e(v.Z,{attrs:{block:"",outlined:"",color:"green"},on:{click:function(e){return t.precioInicial()}}},[t._v("Establecer")]):t._e()],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(se.Z,{staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Puja")])],1),e(l.Z,{attrs:{cols:"8"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{size:"13",label:"Puja",value:"0.0",prefix:"$","append-outer-icon":"mdi-send"},on:{"click:append-outer":function(e){return t.cambiarPuja()}},model:{value:t.precioFin,callback:function(e){t.precioFin=e},expression:"precioFin"}})],1)],1),e(zt.Z,{staticClass:"mx-4 my-4"}),e(U.Z,[e(l.Z,{attrs:{cols:"5",align:"center"}},[e(q.Z,{attrs:{src:s(6784),height:"100",width:"100"}})],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Numero de paleta",prefix:"#"},model:{value:t.paleta,callback:function(e){t.paleta=e},expression:"paleta"}})],1),e(l.Z,{attrs:{cols:"4","align-self":"center",align:"center"}})],1),e(U.Z,[e(l.Z,{attrs:{cols:"12"}},[2!=t.estado&&4!=t.estado&&1!=t.estado?e(v.Z,{attrs:{block:"",color:"green",outlined:""},on:{click:function(e){return t.adjudicar()}}},[e("span",[t._v("Adjudicar Remate")])]):t._e()],1)],1),e(U.Z,[e(l.Z,{attrs:{cols:"6"}},[2!=t.estado&&4!=t.estado&&1!=t.estado?e(v.Z,{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.subastaDesierta()}}},[e("span",[t._v("Autoremate")])]):t._e()],1),e(l.Z,{attrs:{cols:"6"}},[2==t.estado||3==t.estado?e(v.Z,{attrs:{outlined:"",color:"orange"},on:{click:function(e){return t.reiniciarSubasta()}}},[e("span",[t._v("Reiniciar Remate")])]):t._e()],1)],1)],1)],1)],1),e(l.Z,{attrs:{cols:"6"}},[e(U.Z,{staticClass:"fila"},[e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e(U.Z,{staticClass:"d-flex justify-center"},[e("h2",[t._v("Paletera")])])],1),e(l.Z,{attrs:{cols:"12"}},[e(U.Z,t._l(t.participantesFrecuentes.slice(0,5),(function(s,a){return e(l.Z,{key:a,staticClass:"mb-3 fila",attrs:{cols:"2"}},[e(R.Z,{staticClass:"text-center elevation-0"},[e(Z.Z,{attrs:{color:"pink",size:"68"},on:{click:function(e){return t.participante(s)}}},[e("h1",{staticClass:"white--text"},[t._v(t._s(s.consecutiveholder))])])],1)],1)})),1)],1),e(l.Z,{staticClass:"text-center mb-3",attrs:{cols:"12"}},[e(v.Z,{attrs:{block:"",outlined:"",color:"orange"},on:{click:function(e){return t.EliminarPuja()}}},[t._v("Eliminar ultima puja")])],1),t._l(t.participantes,(function(s,a){return e(l.Z,{key:a,staticClass:"mb-3",attrs:{cols:"1"}},[e(R.Z,{staticClass:"text-center elevation-0"},[e(Z.Z,{attrs:{color:"pink",size:"53"},on:{click:function(e){return t.participante(s)}}},[e("h2",{staticClass:"white--text"},[t._v(t._s(s.consecutiveholder))])])],1)],1)}))],2),e(U.Z,t._l(t.pujas,(function(s,a){return e(l.Z,{key:a,attrs:{cols:"6"}},[e(U.Z,{attrs:{no:"",gutters:""}},[e(l.Z,{attrs:{cols:"12",md:"2","align-self":"center"}},[e("h4",{staticStyle:{"text-align":"center"}},[t._v("Item "+t._s(a+1))])]),e(l.Z,{attrs:{cols:"12",md:"4"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{label:"Numero de paleta",prefix:"#",disabled:"",value:s.consecutiveholder}})],1),e(l.Z,{attrs:{cols:"12",md:"6"}},[e(K.Z,{staticStyle:{"font-size":"25px","text-align":"center"},attrs:{value:s.totalprice,label:"Puja",disabled:"",prefix:"$"}})],1)],1)],1)})),1)],1),e(l.Z,{attrs:{cols:"2"}},[e(U.Z,{staticClass:"d-flex justify-center mb-1",attrs:{"no-gutters":""}},[e("h2",[t._v("Incremento")])]),e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e(ee.Z,{staticStyle:{"flex-direction":"column","justify-content":"center"},attrs:{dense:"","background-color":"white",mandatory:""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"blue",outlined:""},on:{click:function(e){return t.IntervaloPrecio(1e5)}}},[t._v("100.000")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"blue",outlined:""},on:{click:function(e){return t.IntervaloPrecio(2e5)}}},[t._v("200.000")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"blue",outlined:""},on:{click:function(e){return t.IntervaloPrecio(5e5)}}},[t._v("500.000")]),e(v.Z,{staticClass:"font-weight-black white--text mb-6",staticStyle:{"font-size":"18px"},attrs:{block:"",color:"primary",outlined:""},on:{click:function(e){return t.IntervaloPrecio(1e6)}}},[t._v("1.000.000")])],1)],1)],1)],1)],1)],1)},He=[],Oe={name:"SaleLotCattle",data(){return{precioFin:0,precioTemp:0,tipo:localStorage.getItem("tipo"),toggle_exclusive:0,participantes:[],participantesFrecuentes:[],subasta:"",id:"",idSubasta:"",idSaleHolder:"",lote:"",estado:1,peso:0,pesoProm:0,origen:"",cantidad:0,clase:"",raza:"",criasM:0,criasH:0,precioInicia:0,precioFinal:0,precioTotal:0,holderActual:"",paleta:"",precioBase:0,incremento:1e5,pujas:[],preciosBotonera:[],intervalos:[50,100,150,200,250,300,400,500,1e3],intervalo:0}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{t&&(console.log(t),this.idSubasta=t,console.log(this.idSubasta),this.id=t._id,this.estado=t.state,console.log(this.estado),this.lote=t.lot,this.peso=t.weight,console.log(this.peso),this.pesoProm=t.weightavg,this.participantes=t.holders.sort(((t,e)=>t.consecutiveholder-e.consecutiveholder)),console.log(this.participantes),this.cantidad=t.quantity,console.log(this.cantidad),this.clase=t.classcattle,console.log(this.clase),this.origen=t.origin,console.log(this.origen),this.raza=t.breed.description,console.log(this.raza),this.criasH=t.calffemale,this.criasM=t.calfmale,this.precioInicia=t.initialprice,this.precioFinal=t.pricekg,console.log(this.precioFinal),this.precioTotal=t.price,console.log(this.precioTotal),this.precioFin=t.pricetoget,this.precioBase=t.initialprice,this.precioTemp=t.totalpricetemp,this.paleta=t.consecutiveholder,console.log(this.paleta),this.participantesFrecuentes=t.bids.filter(((t,e,s)=>e===s.findIndex((e=>e.consecutiveholder===t.consecutiveholder)))),console.log(this.participantesFrecuentes),this.pujas=t.bids.reverse(),console.log(t))}))},disconnect(){this.isConnected=!1,console.log("desconectado")}},methods:{participante(t){console.log(t),this.paleta=t.consecutiveholder,this.idSaleHolder=t.holder._id;const e=this.id,s=this.precioFin,a=this.idSaleHolder,o=this.paleta,i=this.precioFin/this.peso,r=this.cantidad,l=this.incremento;console.log("total "+parseInt(this.precioFin)*parseInt(this.peso));const c={idLotCattle:e,total:s,holderActual:a,paleta:o,preciokg:i,cantidad:r,incremento:l};console.log(c),this.$socket.emit("guarderemate",c,(t=>{console.log(t),this.precioFin=t.pricetoget,this.pujas=t.bids.reverse(),this.precioTemp=t.totalpricetemp,this.participantesFrecuentes=t.bids.filter(((t,e,s)=>e===s.findIndex((e=>e.consecutiveholder===t.consecutiveholder))))}))},botonera(t){this.precioFin=parseInt(this.precioKg)+parseInt(t),console.log(this.precioFin)},adjudicar(){tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{if(t.isConfirmed){const t=this.id,e={idLotCattle:t};this.$socket.emit("adjudiquesubasta",e,(t=>{console.log(t),console.log(t.state),this.estado=t.state})),tt().fire({position:"bottom-end",icon:"success",title:"Subasta terminada",showConfirmButton:!1,timer:2e3})}}))},precioInicial(){console.log(this.idSubasta),console.log(this.precioBase);const t=this.id,e=this.precioBase,s={idLotCattle:t,precioInicial:e};console.log(s),this.$socket.emit("asigneprecioinicial",s,(t=>{console.log(t),this.precioFin=t.pricetoget}))},subastaDesierta(){tt().fire({title:"Cambiar de estado",text:"Esta seguro que desea terminar la subasta?",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{if(t.isConfirmed){const t=this.id,e={idLotCattle:t};this.$socket.emit("declaresubastadesierta",e,(t=>{console.log(t),this.estado=t.state})),tt().fire({position:"bottom-end",icon:"success",title:"Subasta Desierta",showConfirmButton:!1,timer:2e3})}}))},EliminarPuja(){let t=this.id;const e={idLotCattle:t};this.$socket.emit("elimineultima",e,(t=>{this.pujas=t.bids.reverse()}))},reiniciarSubasta(){console.log(this.id);let t=this.id;const e={idLotCattle:t};tt().fire({title:"Esta seguro que desea terminar el remate?",text:"Se perderan todos los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"red",confirmButtonText:"Si, cambiar estado"}).then((t=>{t.isConfirmed&&this.$socket.emit("reiniciarsubasta",e,(t=>{console.log(t.lotCattle.state),this.estado=t.lotCattle.state,window.close()}))}))},irTablero(){window.open(`${ns}tablero`)},cambiarPuja(){let t=this.id;const e=this.precioFin;console.log(e+"  "+t);const s={idLotCattle:t,precioEsperado:e};this.$socket.emit("actualiceprecioesperado",s,(t=>{console.log(t)}))},IntervaloPrecio(t){this.incremento=t,this.precioFin=this.precioTemp+t}},computed:{},created(){}},qe=Oe,Me=(0,m.Z)(qe,Fe,He,!1,null,"fea954d8",null),Ge=Me.exports,Ue=function(){var t=this,e=t._self._c;return e(o.Z,[e(H.Z,{attrs:{fluid:""}},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e("h3",[t._v("SUBASTA GANADERA INVERSIONES DIAZ BLANCO S.A.S")]),e("h3",[t._v("NIT 901.277.782-9")])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"4"}},[e(R.Z,{staticClass:"car"},[e(F.EB,{staticClass:"d-flex justify-center"},[e("h2",{staticClass:"red--text",staticStyle:{"text-align":"center"}},[t._v("Informacion de lote")])]),e(zt.Z,{staticClass:"mx-2 my-2"}),e(F.ZB,{staticClass:"mt-2"},[e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Lote No.")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.lote))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Clase lote")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("p",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v(t._s(t.clase))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text text-md-h5",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Raza")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("p",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v(t._s(t.raza))])])],1),0!=t.cantidadH?e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"left"}},[t._v("Crias Hembra")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidadH))])])],1):t._e(),0!=t.cantidadM?e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"left"}},[t._v("Crias Macho")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidadM))])])],1):t._e(),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Peso Total")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.peso))])])],1),e(U.Z,[e(l.Z,{attrs:{cols:"5"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"font-size":"22px","text-align":"center"}},[t._v("Cantidad")])],1),e(l.Z,{attrs:{cols:"7","align-self":"center"}},[e("h2",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.cantidad))])])],1)],1)],1)],1),e(l.Z,{attrs:{cols:"8"}},[e(R.Z,{staticClass:"car"},[e(F.EB,{staticClass:"mb-7"},[e(U.Z,{attrs:{"no-gutters":""}},[e(l.Z,{attrs:{"align-self":"center"}},[e("h1",{staticClass:"mt-1 ml-5 red--text",staticStyle:{"font-size":"30px","text-align":"center"}},[t._v(" Subasta "+t._s(t.textEstado)+" ")])])],1)],1),e(F.ZB,[e(U.Z,{staticClass:"mb-3",attrs:{"no-gutters":"",align:"center"}},[e(l.Z,{attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Precio Base")])],1),e(l.Z,{attrs:{cols:"8"}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.precioInicial)))])])],1),e(zt.Z,{staticClass:"mx-1 my-0"}),e(U.Z,{staticClass:"my-3",attrs:{"no-gutters":"",align:"center"}},[e(l.Z,{attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Puja")])],1),e(l.Z,{attrs:{cols:"8"}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.precioFinal)))])])],1),e(zt.Z,{staticClass:"mx-1 my-0"}),e(U.Z,{staticClass:"my-3",attrs:{align:"center","no-gutters":""}},[e(l.Z,{staticClass:"ma-0",attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Precio Animal")])],1),e(l.Z,{staticClass:"ma-0",attrs:{cols:"8","no-gutters":""}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(parseInt(t.pesoProm*t.precioFinal))))])])],1),e(zt.Z,{staticClass:"mx-1 my-2"}),e(U.Z,{staticClass:"my-3",attrs:{align:"center","no-gutters":""}},[e(l.Z,{staticClass:"ma-0",attrs:{cols:"4"}},[e(se.Z,{staticClass:"font-weight-black black--text",staticStyle:{"text-align":"center","font-size":"28px"}},[t._v("Precio Total")])],1),e(l.Z,{staticClass:"ma-0",attrs:{cols:"8","no-gutters":""}},[e("h1",{staticClass:"font-weight-black red--text",staticStyle:{"font-size":"50px","text-align":"center"}},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(t.precioFinal*t.peso)))])])],1)],1)],1),e(R.Z,{staticClass:"car mt-3"},t._l(t.pujas,(function(s,a){return e(U.Z,{key:a,attrs:{align:"center"}},[e(l.Z,{attrs:{cols:"2"}},[e("h2",{staticClass:"font-weight-black black--text"},[t._v("# "+t._s(s.consecutiveholder))])]),e(l.Z,{attrs:{cols:"3"}},[e("h2",{staticClass:"font-weight-black black--text"},[t._v("$ "+t._s(Intl.NumberFormat("de-DE").format(s.totalprice)))])]),e(l.Z,{attrs:{cols:"4"}},[e("h2",{staticClass:"font-weight-black black--text"},[t._v(" Animal $ "+t._s(Intl.NumberFormat("de-DE").format(parseInt(s.valueperanimal)))+" ")])]),e(l.Z,{attrs:{cols:"3"}},[e("h2",{staticClass:"font-weight-black black--text"},[t._v(" Kg $ "+t._s(Intl.NumberFormat("de-DE").format(parseInt(s.pricekg)))+" ")])])],1)})),1)],1)],1)],1)],1)},Ve=[],Ke={name:"PageTablero",data(){return{lote:"",cantidad:0,cantidadH:0,cantidadM:0,clase:"",estado:0,textEstado:"",raza:"",peso:0,precioInicial:0,precioFinal:0,precioTotal:0,pesoProm:0,preciokg:0,holderActual:"",paleta:"",adjudicada:"",pujas:[],p:""}},sockets:{connect(){this.isConnected=!0,console.log("conectado"),this.$socket.emit("pidiendoinfoinicial",(t=>{t&&(this.idSubasta=t,this.id=t._id,console.log(t._id),console.log(this.id),this.estado=t.state,console.log(t.salestate),2==this.estado?(console.log(this.estado),this.textEstado="Terminada"):3==this.estado?(console.log(this.estado),this.textEstado="en Proceso"):"Terminada Desierta"==t.salestate&&(this.textEstado="Desierta"),console.log(this.estado),this.lote=t.lot,this.peso=t.weight,console.log(this.peso),this.pesoProm=t.weightavg,this.participantes=t.holders,this.cantidad=t.quantity,this.clase=t.classcattle,this.origen=t.origin,this.raza=t.breed.description,this.criasH=t.calffemale,this.criasM=t.calfmale,this.precioInicial=t.initialprice,this.precioFinal=t.pricekg,this.precioTotal=t.totalprice,this.paleta=t.consecutiveholder,this.pujas=t.bids.reverse(),this.precioInicial=t.initialprice,this.precioFinal=t.pricetoget,this.precioTotal=parseInt(t.pricetoget/t.quantity),this.preciokg=parseInt(t.pricetoget/t.weight),console.log(t))}))},disconnect(){this.isConnected=!1,console.log("desconectado")},actualizarprecioinicial(t){this.precioInicial=t.initialprice,console.log(`Precio Inicial ${t.initialprice}`)},actualizarpuja(t){console.log(t),this.precioFinal=t.precioActual,this.holderActual=t.holderActual,this.paleta=t.paleta,this.precioInicial=t.initialprice,this.precioFinal=t.pricetoget,this.precioTotal=t.pricetoget/t.quantity,this.preciokg=parseInt(t.pricetoget/t.weight),this.pujas=t.bids.reverse()},actualizarsubasta(t){console.log(t),this.estado=t.state,console.log(t.state),this.precioInicial=t.initialprice,this.precioFinal=t.pricetoget,this.precioTotal=t.pricetoget/t.quantity,this.preciokg=parseInt(t.pricetoget/t.weight),2==this.estado?this.textEstado="Terminada":3==this.estado?this.textEstado="en Proceso":"Terminada Desierta"==t.salestate&&(this.textEstado="Desierta")},vernuevasubasta(t){t&&(this.lote=t.lotcattle.lot,this.peso=t.lotcattle.weight,this.cantidad=t.lotcattle.quantity,this.cantidadH=t.lotcattle.calffemale,this.cantidadM=t.lotcattle.calfmale,this.clase=t.lotcattle.classcattle,this.raza=t.lotcattle.breed.description,this.precioInicial=t.initialprice,this.precioFinal=t.currentpricekg,this.precioTotal=t.currentprice,this.holderActual=t.currentholder,this.paleta=t.currentconsecutiveholder,console.log(t))}},methods:{},computed:{},mounted(){}},We=Ke,Je=(0,m.Z)(We,Ue,Ve,!1,null,null,null),Ye=Je.exports;a.ZP.use(D.ZP);const Qe=[{path:"/",name:"login",component:ot},{path:"/resetear",name:"resetear",component:te},{path:"/home",name:"home",component:dt},{path:"/perfil",name:"perfil",component:Kt},{path:"/holder",name:"holder",component:Zt},{path:"/breed",name:"breed",component:Se},{path:"/sale",name:"sale",component:yt},{path:"/saleHolder",name:"saleHolder",component:Ht},{path:"/lotCattle",name:"lotCattle",component:At},{path:"/saleLotCattle",name:"saleLotCattle",component:ce},{path:"/saleLotCattleRemate",name:"saleLotCattleRemate",component:Ge},{path:"/tablero",name:"tablero",component:pe},{path:"/tableroSubasta",name:"tableroSubasta",component:Ye},{path:"/reporte",name:"reporte",component:Ee},{path:"/recibido",name:"recibido",component:Re},{path:"/factura",name:"factura",component:Ce}],Xe=new D.ZP({routes:Qe});var ts=Xe,es=s(629);a.ZP.use(es.ZP);var ss=new es.ZP.Store({state:{token:"",datos:{},subasta:{},lote:{},estado:"",conectado:!1},mutations:{setToken(t,e){t.token=e},setDatos(t,e){t.datos=e},setSubasta(t,e){t.subasta=e},setLote(t,e){t.lote=e},SOCKET_CONNECT(t){t.conectado=!0},SOCKET_ACTUALIZARESTADO(t,e){t.estado=e}},actions:{setToken(t,e){t.commit("setToken",e)},setDatos(t,e){t.commit("setDatos",e)},setSubasta(t,e){t.commit("setSubasta",e)},setLote(t,e){t.commit("setLote",e)}}}),as=s(1705);a.ZP.use(as.Z);var os=new as.Z({}),is=s(9367),rs=s(7241),ls=s.n(rs);a.ZP.config.productionTip=!1;const cs=(0,is.ZP)("https://subasta-ganadera.onrender.com",{transports:["websocket","polling","flashsocket"]});a.ZP.use(ls(),cs),Q().defaults.baseURL="https://subasta-ganadera.onrender.com/api/",new a.ZP({router:ts,store:ss,vuetify:os,render:t=>t(N)}).$mount("#app"),ts.beforeEach(((t,e,s)=>{ss.state.token||"/"==t.path||"/resetear"==t.path?s():s("/")}));const ns="https://subasta-ganadera.onrender.com/#/"},2405:function(t,e,s){t.exports=s.p+"img/add-user.99c73965.png"},3873:function(t,e,s){t.exports=s.p+"img/cow.aea09332.png"},505:function(t,e,s){t.exports=s.p+"img/informacion.420ef7a3.jpeg"},4552:function(t,e,s){t.exports=s.p+"img/licitacion.825320f7.png"},4246:function(t,e,s){t.exports=s.p+"img/subasta.c355d873.png"},6784:function(t,e,s){t.exports=s.p+"img/subastador2.c854a258.jpeg"},3749:function(t,e,s){t.exports=s.p+"img/ganado 2.1cbf4430.jpeg"},9218:function(t,e,s){t.exports=s.p+"img/logo.b6b9c462.jpg"}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,i){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],i=t[d][2];for(var l=!0,c=0;c<a.length;c++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(l=!1,i<r&&(r=i));if(l){t.splice(d--,1);var n=o();void 0!==n&&(e=n)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,o,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};s.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var i=Object.create(null);s.r(i);var r={};t=t||[null,e({}),e([]),e(e)];for(var l=2&o&&a;"object"==typeof l&&!~t.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach((function(t){r[t]=function(){return a[t]}}));return r["default"]=function(){return a},s.d(i,r),i}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,a){return s.f[a](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{4:"489d0b41",120:"a36f689c",856:"301d317f"}[t]+".js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="subasta:";s.l=function(a,o,i,r){if(t[a])t[a].push(o);else{var l,c;if(void 0!==i)for(var n=document.getElementsByTagName("script"),d=0;d<n.length;d++){var u=n[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==e+i){l=u;break}}l||(c=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",e+i),l.src=a),t[a]=[o];var h=function(e,s){l.onerror=l.onload=null,clearTimeout(m);var o=t[a];if(delete t[a],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(t){return t(s)})),e)return e(s)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),c&&document.head.appendChild(l)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,a){var o=s.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((function(s,a){o=t[e]=[s,a]}));a.push(o[2]=i);var r=s.p+s.u(e),l=new Error,c=function(a){if(s.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,o[1](l)}};s.l(r,c,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,i,r=a[0],l=a[1],c=a[2],n=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(c)var d=c(s)}for(e&&e(a);n<r.length;n++)i=r[n],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunksubasta"]=self["webpackChunksubasta"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(7304)}));a=s.O(a)})();
//# sourceMappingURL=app.7594cda7.js.map